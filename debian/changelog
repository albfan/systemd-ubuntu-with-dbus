systemd (224-1) unstable; urgency=medium

  * New upstream release.
  * boot-and-services autopkgtest: Ignore thermald. Since 1.4.3-2 it starts by
    default, but fails in most virtual envs.

 -- Martin Pitt <mpitt@debian.org>  Sat, 01 Aug 2015 13:38:57 +0200

systemd (223-2) unstable; urgency=medium

  * Don't enable gnu-efi on ARM. It FTBFSes and cannot really be tested now as
    there is no available hardware.
  * debian/extra/initramfs-tools/hooks/udev: Don't fail if
    /etc/systemd/network/ does not exist. (Closes: #794050)

 -- Martin Pitt <mpitt@debian.org>  Thu, 30 Jul 2015 08:25:51 +0200

systemd (223-1) unstable; urgency=medium

  * New upstream release:
    - Fix systemd-bootchart crash. (Closes: #792403)
    - Trim list of files in /usr/share/doc/systemd/. (Closes: #791839)
    - Fix "Invalid argument" failure with some  journal files.
      (Closes: #792090)
    - tmpfiles: Don't recursively descend into journal directories in /var.
      (Closes: #791897)
    - Don't frequently wake up on disabled TimeoutIdleSec=, in particular in
      automount timers. (LP: #1470845)
    - tmpfiles: Don't delete lost+found/. (Closes: #788193)

  [ Michael Biebl ]
  * udev: Remove obsolete rm_conffile/mv_conffile functions from udev.preinst.
    The udev package is using dpkg-maintscripts-helper now to remove obsolete
    conffiles.
  * systemd: Remove obsolete conffile clean up from pre-wheezy.
  * udev-udeb: Remove scsi_wait_scan hack from the start-udev script as well.

  [ Martin Pitt ]
  * Enable GNU EFI support and add gnu-efi build dep. This enables/ships the
    systemd EFI boot loader. (Closes: #787720, LP: #1472283)
  * networkd autopkgtest: More robust/forceful killing of dnsmasq.
  * ifup@.service: Drop "oneshot" to run ifup in the background during boot.
    This avoids blocking network.target on boot with unavailable hotplug
    interfaces in /etc/network/interfaces. (Closes: #790669, LP: #1425376)
  * systemd.postinst: Avoid confusing error message about
    /run/systemd/was-enabled not existing on reconfiguring.
  * debian/extra/initramfs-tools/hooks/udev: Drop some redundant code.
  * Fix networkd-wait-online -i to properly wait for the given interfaces
    only.
  * Drop debian/extra/base-installer.d/05udev: We use net.ifnames by default
    now, thus we don't need to copy 70-persistent-*.rules any more.
  * debian/extra/start-udev: Run d-i's udevd with "notice" log level, just
    like we did in the initramfs in 219-10.
  * Fix size explosion of networkd (post-223 patch from trunk).

  [ Julian Wollrath ]
  * Copy all .link interface naming definitions to initramfs. (Closes: #793374)

  [ Felipe Sateler ]
  * nss-my*.postinst: configure at the end of the hosts line, not before
    files. (Closes: #789006)

 -- Martin Pitt <mpitt@debian.org>  Thu, 30 Jul 2015 00:02:26 +0200

systemd (222-2) unstable; urgency=medium

  [ Adam Conrad ]
  * debian/udev-udeb.install: Install new bits for net.ifnames (LP: #1473542)
  * debian/extra/initramfs-tools/hooks/udev: Do the same for initramfs-tools.

  [ Martin Pitt ]
  * emergency.service: Wait for plymouth to shut down. Fixes invisible
    emergency shell with plymouth running endlessly. (LP: #1471258)
  * Add "networkd" autopkgtest. Covers basic DHCP on IPv4 and IPv4+6 on a veth
    device.

  [ Michael Biebl ]
  * Bump package priorities of systemd and systemd-sysv to important to match
    what has been used in the Debian archive since Jessie.
  * Drop scsi_wait_scan hack from the udev initramfs-tools script. This Linux
    kernel module has been broken since 2.6.30 and as a result was removed in
    3.5. The Debian Jessie kernel no longer ships this module.
    (Closes: #752775)
  * Drop libsystemd-journald-dev and libsystemd-id128-dev. There are no
    reverse dependencies left and we want to avoid new packages picking up
    a build dependency on those obsolete transitional packages.

 -- Michael Biebl <biebl@debian.org>  Wed, 15 Jul 2015 23:51:15 +0200

systemd (222-1) unstable; urgency=medium

  [ Martin Pitt ]
  * New upstream release:
    - Fix reload killing BusName= units. (Closes: #746151)
    - sysv-generator: detect invalid names and escape them. (Closes: #677075)
    - Document removal of PIDFile on daemon shutdown. (Closes: #734006)
    - Drop Revert-rules-fix-tests-for-removable-state.patch, the auto-suspend
      rules now got dropped entirely.
  * Add Revert-VT-reuse-patches.patch: Revert a couple of logind VT reuse
    patches which alternately broke lightdm and gdm.
  * debian/libsystemd0.symbols: Add new symbols from this release.
  * Disable test-netlink during package build, fails on some buildds.
  * udev.postinst: Don't call addgroup with --quiet, so that if the "input"
    group already exists as a non-system group you get a sensible error
    message. Some broken tutorials forget the --system option.
    (Closes: #769948, LP: #1455956)
  * systemd.postinst: Drop the --quiet from the addgroup calls as well, same
    reason as above. (Closes: #762275)
  * udev: Drop doc dir symlinking. It has caused too much trouble and only
    marginally helps to avoid duplication. Such duplication should be dealt
    with at the distro, not package level.
  * debian/rules: Entirely ignore $LD_PRELOAD instead of just libfakeroot in
    the link check, to also avoid libeatmydata. (Closes: #790546)
  * boot-and-services, display-managers autopkgtests: Install and configure
    dummy X.org driver, so that these work in headless machines/VMs.
  * systemd-fsckd autopkgtest: Stop using/asserting on lightdm, just check
    that default.target is active. lightdm is prone to fail in test
    environments, and fiddling with it in two other autopkgtests is
    sufficient.
  * debian/watch: Adjust to new upstream release model of only providing the
    github tag tarballs.
  * Drop dsl-modem.agent. It hasn't been maintained/tested for many years, few
    if any people actually use this, and this doesn't belong into udev.

  [ Michael Biebl ]
  * Stop building the Python 3 bindings. They were split into a separate
    source package upstream and are now built from src:python-systemd. See
    http://lists.freedesktop.org/archives/systemd-devel/2015-July/033443.html
  * Remove obsolete --disable-chkconfig configure option.
  * Move the man pages for libnss-myhostname, libnss-mymachines and udev.conf
    from systemd into the correct package. Move the zsh completion file for
    udevadm into the udev package as well. Add Breaks/Replaces accordingly.
    (Closes: #790879)
  * Drop rules which remove pre-generated files before build. The upstream
    tarball no longer ships any pre-generated files so this is no longer
    necessary.
  * Fix cleanup rule for Python byte code files.

 -- Michael Biebl <biebl@debian.org>  Wed, 08 Jul 2015 18:56:07 +0200

systemd (221-1) unstable; urgency=medium

  * New upstream release 221:
    - Fix persistent storage links for Xen devices. (LP: #1467151)
    - Drop all backported patches and port the others to new upstream release.
    - debian/rules: Drop workarounds for broken 220 tarball, 221 is fine.

  [ Michael Biebl ]
  * initramfs hook: Stop installing 55-dm.rules, 64-md-raid.rules,
    60-persistent-storage-lvm.rules and 60-persistent-storage-dm.rules.
    The mdadm, lvm2 and dmsetup package provide their own udev hooks nowadays
    to make sure their udev rules files are installed into the initramfs.
    Having the copy rules at two places is confusing and makes debugging
    harder.
  * Make it possible to skip building udeb packages via
    DEB_BUILD_OPTIONS="noudeb". This allows quicker builds for local testing
    and is benefical for derivatives that don't use d-i.
  * Install API documentation for libudev and libsystemd in their respective
    packages. Both libraries use man pages now, so we need to be explicit
    about what is installed where.

  [ Martin Pitt ]
  * ifupdown-hotplug autopkgtest: Different cloud/desktop environments have
    different ways of including /etc/network/interfaces.d/, try to get along
    wit either and skip the test if interfaces.d/ does not get included at
    all.
  * Drop obsolete gtk-doc-tools build dependency, gtkdocize autoreconfig, and
    ./configure options.
  * libudev-dev.install: Drop gtk-doc files, not built by upstream any more
    and replaced with manpages.
  * libsystemd0.symbols: Add new symbols for this release.
  * debian/rules: Fix paths in manpages as we don't currently have a merged
    /usr in Debian but have most systemd things in /lib. This replaces the
    previous huge and maintenance-intense patch.
  * Drop Accept-mountall-specific-fstab-options.patch. Replaced with
    systemd.postinst migration code in Ubuntu.
  * Revert overly aggressive USB autosuspend udev rules change which broke
    various USB keyboards. (Closes: #789723)
  * Have rc-local.service output also go to the console. /etc/rc.local often
    contains status messages which users expect to see during boot.
    (LP: #1468102)
  * debian/rules: Install udev.NEWS into libudev1, to get along with Debian's
    udev -> libudev1 doc dir symlinking. (Closes: #790042)

 -- Martin Pitt <mpitt@debian.org>  Sun, 28 Jun 2015 12:05:36 +0200

systemd (220-7) unstable; urgency=medium

  [ Michael Biebl ]
  * Enable seccomp support on arm64 as well.
  * Replace the remainder of Fix-paths-in-man-pages.patch with an upstream
    provided patch.

  [ Martin Pitt ]
  * Switch to net.ifnames persistent network interfaces (on new
    installations/for new hardware), and deprecate the old
    75-persistent-net-generator.rules. See the ML discussion for details:
        https://lists.debian.org/debian-devel/2015/05/msg00170.html
        https://lists.debian.org/debian-devel/2015/06/msg00018.html
    - Drop Make-net.ifnames-opt-in-instead-of-opt-out.patch, to use
      net.ifnames by default.
    - Revert-udev-network-device-renaming-immediately-give.patch: Adjust
      patch comment.
    - Drop 75-persistent-net-generator.rules, write_net_rules helper and
      rule_generator.functions.
    - Adjust udev's README.Debian accordingly, and describe the migration.
      This needs to happen manually as there is no robust way of doing this
      automatically.
    - Add udev NEWS file for announcing this change and pointing to udev's
      README.
    - udev.postinst: Drop write_interfaces_rules().
    - udev.postinst: Disable net.ifnames on systems which did not support
      75-persistent-net-generator.rules (most importantly, virtualized guests)
      to avoid changing network interface names on upgrade.
    - LP: #1454254
  * fsckd-daemon-for-inter-fsckd-communication.patch: Add fsckd.c to
    POTFILES.in.
  * ifupdown-hotplug autopkgtest: Fix config name in interfaces.d/, it must
    not have a suffix in Debian. Also clean up the file after the test.
  * net.agent: When running under systemd, run everything in the foreground.
    This avoids killing the forked child in the middle of its operation under
    systemd when the parent exits.
  * Check during build that systemd and systemd-journald don't link against
    anything in /usr, to prevent bugs like #771652 and #788913 in the future.
  * Drop Skip-99-systemd.rules-when-not-running-systemd-as-in.patch. The rules
    mostly just attach tags systemd specific properties which are harmless
    under other init systems, and systemd-sysctl also works there.
  * 80-networking.rules: Only call agents for add|remove, as they don't handle
    other events.
  * Restore udev watches on block device changes. (Closes: #789060,
    LP: #1466081)

 -- Martin Pitt <mpitt@debian.org>  Wed, 17 Jun 2015 22:48:53 +0200

systemd (220-6) unstable; urgency=medium

  * Enable seccomp support on the architectures that provide libseccomp.
    (Closes: #760299)
  * boot-and-services autopkgtest: Add SeccompTest for the above.
  * boot-and-services autopkgtest: Check that we don't get an unwanted
    tmp.mount unless /etc/fstab explicitly specifies it.
  * Bump libcap-dev build dep to the version that provides libcap2-udeb.
    (Closes: #787542)
  * Stop installing tmp.mount by default; there are still situations where it
    becomes active through dependencies from other units, which is surprising,
    hides existing data in /tmp during runtime, and it isn't safe to have a
    tmpfs /tmp on every install scenario. (Closes: #783509)
    - d/rules: Ship tmp.mount in /usr/share/systemd/ instead of
      /lib/systemd/systemd.
    - systemd.postinst: When tmp.mount already was enabled, install tmp.mount
      into /etc and keep it enabled.
    - systemd.postinst: When enabling tmp.mount because of RAMTMP=yes, copy it
      from /usr/share.
    - Drop Don-t-mount-tmp-as-tmpfs-by-default.patch and
      PrivateTmp-shouldn-t-require-tmpfs.patch, not necessary any more.

 -- Martin Pitt <mpitt@debian.org>  Thu, 11 Jun 2015 09:25:49 +0200

systemd (220-5) unstable; urgency=medium

  * debian/README.source: Upstream repository moved to github, adjust
    cherry-picking instructions accordingly.
  * debian/control: Replace obsolete Python2 version header with
    X-Python3-Version.
  * dracut: Fix path to systemd-fsck. (Closes: #787553)
  * Ignore test failures during build if /etc/machine-id is missing (which is
    the case in a few buildd chroots still). (Closes: #787258)
  * debian/udev.README.Debian: Move network interface hotplug documentation
    into separate section. Point out that "lo" does not need to be configured
    in ifupdown under systemd.
  * debian/udev.README.Debian: Document net.ifnames, and how to write udev
    rules for custom network names.
  * Add debian/extra/01-mac-for-usb.link: Use MAC based names for network
    interfaces which are (directly or indirectly) on USB. Path based names
    are inadequate for dynamic buses like USB.
  * Fix another escape parsing regression in Exec*= lines. (Closes: #787256)
  * Disable EFI support for udeb build.
  * Refine detection of touch screen devices.

 -- Martin Pitt <mpitt@debian.org>  Sun, 07 Jun 2015 16:52:33 +0200

systemd (220-4) unstable; urgency=medium

  [ Martin Pitt ]
  * debian/extra/initramfs-tools/scripts/init-top/udev: Drop $ROOTDELAY wait.
    This does not concern udev in particular, but is handled by
    initramfs-tools itself (scripts/local). The intention of this parameter is
    not to statically wait for the given time, but wait *up to* that time for
    the root device to appear.
  * Add debian/extra/units/rc-local.service.d/wait-online.conf: Make
    rc-local.service wait for network-online.target (if it gets started). This
    not specified by LSB, but has been behaving that way in Debian under SysV
    init and upstart. (LP: #1451797)
  * Fix parsing of escape characters in Exec*= lines. (Closes: #787256)
  * Drop path_is_mount_point-handle-false-positive-on-some-fs.patch (it was
    already not applied in 220-1). This needs to be re-thought and re-done
    against the current code, and overlayfs in general. On overlayfs this
    still reports false positives for files that changed in the upperdir, but
    this does not break systemd-machine-id-commit any more.
  * Add debian/extra/rules/80-debian-compat.rules, replacing three of our
    patches. These are independent udev rules to change device permissions and
    add CD/DVD symlinks for compatibility with earlier Debian releases.

  [ Michael Biebl ]
  * Bump Depends on util-linux to make sure we have a sulogin implementation
    which properly cleans up its children when emergency.service is restarted.
    (Closes: #784238)
  * Stop using /sbin/udevd and drop the compat symlink.
  * Remove any vestiges of /dev/.udev/. This directory has been replaced by
    /run/udev/ since wheezy.
  * Drop udev migration code from pre-wheezy.

 -- Martin Pitt <mpitt@debian.org>  Tue, 02 Jun 2015 08:16:36 +0200

systemd (220-3) unstable; urgency=medium

  * Fix ProtectSystem=yes to actually protect /usr, not /home.
    (Closes: #787343)
  * sd-device: fix device_get_properties_strv(). Fixes environment for
    processes spawned by udev, in particular "allow-hoplug" ifupdown
    interfaces via ifup@.service. (Closes: #787263)
  * Ignore test failures on mipsel; the three failures are not reproducible on
    the porter box (different kernel?). (See #787258)
  * Add ifupdown-hotplug autopkgtest. Reproduces #787263.
  * udev: Bring back persistent storage symlinks for bcache. Thanks David
    Mohr! (Closes: #787367)
  * sd-device: Fix invalid property strv pointers. This unbreaks the
    environment of udev callouts.

 -- Martin Pitt <mpitt@debian.org>  Mon, 01 Jun 2015 12:58:20 +0200

systemd (220-2) unstable; urgency=low

  * 220-1 was meant to go to experimental, but was accidentally uploaded to
    unstable. This was planned for next week anyway, just not on a Friday;
    we don't revert, but keep an RC bug open for a few days to get broader
    testing. Reupload 220-1 with its changelog actually pointing to unstable
    and with all versions in the .changes.

 -- Martin Pitt <mpitt@debian.org>  Fri, 29 May 2015 18:54:09 +0200

systemd (220-1) unstable; urgency=medium

  [ Martin Pitt ]
  * New upstream release:
    - Ship sdio.ids and ids-update.pl in upstream tarball. (Closes: #780650)
    - Drop non-working "journalctl /dev/sda" example from manpage
      (Closes: #781604)
    - man systemd.network: Explain UseDomains a bit more (not used by
      default). (Closes: #766413)
    - Ignore comments in /etc/hostname (LP: #1053048)
    - Drop all backported patches and port the others to new upstream release.
  * Cherry-pick patch to fix udevd --daemon assertion regression.
  * Cherry-pick patch to fix udevd worker hang.
  * systemd.install: systemd.pc moved back into /usr/share/pkgconfig/.
  * libsystemd0.symbols: Add new symbols from this release.
  * Drop debian/extra/60-keyboard.hwdb for now. Upstream has a newer version,
    and it's not nearly as often updated any more as it used to be.
  * debian/rules: Remove shipped audit_type-to-name.h and
    keyboard-keys-from-name.gperf and regenerate them during build (bug in
    upstream 220 tarball).
  * autopkgtest: Ship/use mock fsck from debian/tests, as it's missing in the
    220 tarball.
  * Add libnss-mymachines binary package. (Closes: #784858)
  * Add libnss-myhostname binary package, taking over from the very old and
    unmaintained standalone source package as per its maintainer's request.
    (Closes: #760514)
  * Drop buildsys-Don-t-default-to-gold-as-the-linker.patch and set LD in
    debian/rules on sparc only. This can be dropped entirely once we build
    GUdev from a separate source.
  * bootchart autopkgtest: Skip test if /proc/schedstat does not exist, i. e.
    the kernel is missing CONFIG_SCHEDSTAT. Bootchart requires this.
  * systemd-fsckd autopkgtest: On Debian plymouth-start stays running, adjust
    was_running() for that.
  * systemd-fsckd autopkgtest: In test_systemd_fsck_with_plymouth_failure(),
    fix plymouthd status check to work under both Debian and Ubuntu.
  * Replace almost all of Fix-paths-in-man-pages.patch with upstreamed
    patches. (The remainder is planned to get fixed upstream as well.)
  * Remove our update-rc.d patches, replace them with upstream patches for
    /lib/systemd/systemd-sysv-install abstraction, and provide one for
    update-rc.d. Also implement "is-enabled" command by directly checking for
    the presence of rcS or rc5 symlinks. (Closes: #760616)
  * Fix path_is_mount_point for files (regression in 220).
  * debian/control: Drop obsolete XS-Testsuite:, dpkg adds it automatically.
  * Use Ubuntu's default NTP server for timesyncd when building on Ubuntu.

  [ Michael Biebl ]
  * Remove /var/run and /var/lock migration code from debian-fixup. The /run
    migration was completed in wheezy so this is no longer necessary.
  * Drop our versioned Depends on initscripts. This was initially added for
    the /run migration and later to ensure we have a mountnfs hook which
    doesn't cause a deadlock under systemd. The /run migration was completed
    in wheezy and jessie ships a fixed mountnfs hook. In addition we now use
    the ignore-dependencies job mode in our lsb init-functions hook, so it's
    safe to drop this dependency.
  * Stop building gudev packages. Upstream has moved the gudev code into a
    separate repository which is now managed on gnome.org. The gudev packages
    will be built from src:libgudev from now on. See also
    http://lists.freedesktop.org/archives/systemd-devel/2015-May/032070.html

 -- Martin Pitt <mpitt@debian.org>  Fri, 29 May 2015 10:37:40 +0200

systemd (219-10) experimental; urgency=medium

  * Fix assertion crash with empty Exec*= paths. (LP: #1454173)
  * Drop Avoid-reload-and-re-start-requests-during-early-boot.patch
    and Avoid-reloading-services-when-shutting-down.patch: This was fixed more
    robustly in invoke-rc.d and service now, see #777113.
  * debian/tests/boot-smoke: Allow 10 seconds for systemd jobs to settle down.
  * Fix "tentative" state of devices which are not in /dev (mostly in
    containers), and avoid overzealous cleanup unmounting of mounts from them.
    (LP: #1444402)
  * debian/extra/udev-helpers/net.agent: Eliminate cat and most grep calls.
  * Drop Set-default-polling-interval-on-removable-devices-as.patch; it's long
    obsolete, CD ejection with the hardware button works properly without it.
  * Re-enable-journal-forwarding-to-syslog.patch: Update patch description,
    journal.conf.d/ exists now.
  * journal: Gracefully handle failure to bind to audit socket, which is known
    to fail in namespaces (containers) with current kernels. Also
    conditionalize systemd-journald-audit.socket on CAP_AUDIT_READ.
    (LP: #1457054)
  * Put back *.agent scripts and use net.agent in Ubuntu. This fixes escaping
    of unit names, reduces the delta, and will make it easier to get a common
    solution for integrating ifup.d/ scripts with networkd.
  * When booting with "quiet", run the initramfs' udevd with "notice" log
    level. (LP: #1432171)
  * Add sigpwr-container-shutdown.service: Power off when receiving SIGPWR in
    a container. This makes lxc-stop work for systemd containers.
    (LP: #1457321)
  * write_net_rules: Escape '{' and '}' characters as well, to make this work
    with busybox grep. Thanks Faidon Liambotis! (Closes: #765577)

 -- Martin Pitt <mpitt@debian.org>  Thu, 21 May 2015 09:43:52 +0200

systemd (219-9) experimental; urgency=medium

  * 75-persistent-net-generator.rules: Fix rules for ibmveth (it's a driver,
    not a subsystem). (LP: #1437375)
  * debian/tests/unit-config: Add tests for systemctl enable/disable on a
    SysV-only unit. Reproduces LP #1447807.
  * Fix systemctl enable for SysV scripts without a native unit. We must not
    try and enable the nonexisting unit then. (LP: #1447807)
  * Drop Add-env-variable-for-machine-ID-path.patch. systemd should always
    be installed via the essential "init" in buildd schroots now.
  * debian/README.source: Update git-buildpackage commands for the renames in
    0.6.24.
  * Make apparmor run before networking, to ensure that profiles apply to
    e. g. dhclient (LP: #1438249):
    - Rename networking.service.d/network-pre.conf to systemd.conf, and add
      After=apparmor.service.
    - ifup@.service: Add After=apparmor.service.
    - Add Breaks: on apparmor << 2.9.2-1, which dropped its dependency to
      $remote_fs.
  * Drop login-don-t-overmount-run-user-UID-on-upgrades.patch and
    login-don-t-overmount-run-user-UID-on-upgrades.patch, these were only
    needed for upgrades from wheezy to jessie.
  * systemd.{pre,post}inst: Clean up obsolete (pre-wheezy/jessie) upgrade
    fixes.
  * systemd-fsckd autopkgtest: Stop assuming that
    /etc/default/grub.d/90-autopkgtest.cfg exists.
  * systemd-fsckd autopkgtest: Add missing plymouth test dependency.
  * Drop core-mount-ensure-that-we-parse-proc-self-mountinfo.patch, and bump
    util-linux dependency to the version which enables
    --enable-libmount-force-mountinfo.

 -- Martin Pitt <mpitt@debian.org>  Wed, 13 May 2015 12:27:21 +0200

systemd (219-8) experimental; urgency=medium

  [ Michael Biebl ]
  * Skip filesystem check if already done by the initramfs. (Closes: #782522)
  * Drop hard-coded versioned dependency on libapparmor1. Bump the
    Build-Depends on libapparmor-dev instead. This ensures a proper versioned
    dependency via Build-Depends-Package.
  * Revert "Make apparmor run before networking". This causes dependency
    cycles while apparmor still depends on $remote_fs.
  * Cleanup hwclock-save.service symlinks when upgrading from the jessie
    version.

  [ Martin Pitt ]
  * cryptsetup: Implement offset and skip options. (Closes: #751707,
    LP: #953875)
  * logind autopkgtest: Add test for suspending on lid switch close.
    This reproduces LP #1444166 (lid switch not working in the first few
    minutes after boot).
  * Reduce the initial suspend supression time from 3 minutes to 30 seconds,
    and make it configurable. (LP: #1444166)
  * Fix double free crash in "systemctl enable" when calling update-rc.d and
    the latter fails. (Closes: #764613, LP: #1426588)
  * hwdb: Fix wireless switch on Dell Latitude (LP: #1441849)
  * Fix assertion crash when reading a service file with missing ' and
    trailing space. (LP: #1447243)
  * ifup@.service: Set IgnoreOnIsolate, so that "systemctl default" does not
    shut down network interfaces. (Closes: #762953, LP: #1449380).
    Add PartOf=network.target, so that stopping network.target also stops
    network interfaces (so that isolating emergency.target and similar work as
    before).
  * Revert upstream commit 743970d which immediately SIGKILLs units during
    shutdown. This leads to problems like bash not being able to write its
    history, mosh not saving its state, and similar failed cleanup actions.
    (Closes: #784720, LP: #1448259)
  * Drop the reversion of "journald: allow restarting journald without losing
    stream connections", and replace with proper upstream fix for
    sd_pid_notify_with_fds(). (See Debian #778970, LP #1423811; LP: #1437896)

 -- Martin Pitt <mpitt@debian.org>  Wed, 29 Apr 2015 17:13:41 +0200

systemd (219-7) experimental; urgency=medium

  [ Martin Pitt ]
  * Make systemd-sysv's dependency to systemd unversioned. The package just
    contains 6 symlinks and thus isn't sensitive at all against version
    mismatches. This avoids running into circular dependencies when testing
    local debs.
  * Revert "udev: Drop hwdb-update dependency" and replace with upstream patch
    which moves it to systemd-udev-trigger.service.
  * display-managers autopkgtest: Properly wait until all jobs are finished.
  * display-managers autopkgtest: Reset failed units between tests, to avoid
    running into restart limits and for better test isolation.
  * Enable timesyncd in virtual machines. (Closes: #762343)

  [ Adam Conrad ]
  * debian/systemd.{triggers,postinst}: Trigger a systemctl daemon-reload
    when init scripts are installed or removed (Closes: #766429)

  [ Didier Roche ]
  * Squash all fsckd patches in one (as fsckd and such will be removed
    soon upstream), containing various fixes from upstream git and refactor
    the connection flow to upstream's suggestion. Modify the man pages to match
    those modifications as well. Amongst others, this suppresses "Couldn't
    connect to plymouth" errors if plymouth is not running.
    (Closes: #782265, LP: #1429171)
  * Keep plymouth localized messages in a separate patch for easier updates in
    the future and refresh to latest upstream.
  * display-managers autopkgtest: Use ExecStart=sleep instead of the actual
    lightdm binary, to avoid errors from lightdm startup. Drop the now
    unnecessary "needs-recommends" to speed up the test.

 -- Martin Pitt <mpitt@debian.org>  Fri, 10 Apr 2015 11:08:33 +0200

systemd (219-6) experimental; urgency=medium

  [ Martin Pitt ]
  * Import patches from v219-stable branch (up to 85a6fab).
  * boot-and-services autopkgtest: Add missing python3 test dependency.
  * Make apparmor run before networking, to ensure that profiles apply to
    e. g. dhclient (LP: #1438249):
    - Rename networking.service.d/network-pre.conf to systemd.conf, and add
      After=apparmor.service.
    - ifup@.service: Add After=apparmor.service.
  * udev: Drop hwdb-update dependency, which got introduced by the above
    v219-stable branch. This causes udev and plymouth to start too late and
    isn't really needed in Debian yet as we don't support stateless systems
    yet and handle hwdb.bin updates through dpkg triggers. (LP: #1439301)

  [ Didier Roche ]
  * Fix mount point detection on overlayfs and similar file systems without
    name_to_handle_at() and st_dev support. (LP: #1411140)

  [ Christian Seiler ]
  * Make the journald to syslog forwarding more robust by increasing the
    maximum datagram queue length from 10 to 512. (Closes: #762700)

  [ Marco d'Itri ]
  * Avoid writing duplicate entries in 70-persistent-net.rules by double
    checking if the new udev rule has already been written for the given
    interface. This happens if multiple add events are generated before the
    write_net_rules script returns and udevd renames the interface.
    (Closes: #765577)

 -- Martin Pitt <mpitt@debian.org>  Thu, 02 Apr 2015 09:14:48 +0200

systemd (219-5) experimental; urgency=medium

  [ Didier Roche ]
  * Add "systemd-fsckd" autopkgtest. (LP: #1427312)
  * cmdline-upstart-boot autopkgtest: Update to Ubuntu's upstart-sysv split
    (test gets skipped on Debian while upstart-sysv does not yet exist there).
  * Cherry-pick a couple of upstream commits for adding transient state,
    fixing a race where mounts become available before the device being
    available.
  * Ensure PrivateTmp doesn't require tmpfs through tmp.mount, but rather adds
    an After relationship. (Closes: #779902)

  [ Martin Pitt ]
  * journald: Suppress expected cases of "Failed to set file attributes"
    errors. (LP: #1427899)
  * Add systemd-sysv.postinst: Update grub on first installation, so that the
    alternative init system boot entries get updated.
  * debian/tests: Call /tmp/autopkgtest-reboot, to work with autopkgtest >=
    3.11.1.
  * Check for correct architecture identifiers for SuperH. (Closes: #779710)
  * Fix tmpfiles.d to only apply the first match again (regression in 219).
    (LP: #1428540)
  * /lib/lsb/init-functions.d/40-systemd: Don't ignore systemd unit
    dependencies in "degraded" mode. (LP: #1429734)

  [ Michael Biebl ]
  * debian/udev.init: Recognize '!' flag with static device lists, to work
    with kmod 20. (Closes: #780263)

  [ Craig Magina ]
  * rules-ubuntu/71-power-switch-proliant.rules: Add support for HP ProLiant
    m400 Server Cartridge soft powerdown on Linux 3.16. (LP: #1428811)

  [ Scott Wakeling ]
  * Rework package description to be more accurate. (Closes: #740372)

 -- Martin Pitt <mpitt@debian.org>  Thu, 26 Mar 2015 16:31:04 +0100

systemd (219-4) experimental; urgency=medium

  * tmpfiles: Avoid creating duplicate ACL entries. Add postinst code to clean
    them up on upgrade. (Closes: #778656)
  * bootchart: Fix path to default init. (LP: #1423867)
  * Add "bootchart" autopkgtest, to spot regressions like the above.
  * autopkgtests: Factorize out "assert.sh" utility functions, and use them in
    the tests for useful failure messages.
  * Downgrade requirement for timedated, hostnamed, localed-locale, and
    logind autopkgtests from machine to container isolation.
  * boot-and-services and display-manager autopkgtest: Add systemd-sysv as
    proper test dependency instead of apt-get installing it. This works now
    also under Ubuntu 15.04.
  * boot-and-services autopkgtest: Check cleanup of temporary files during
    boot. Reproduces #779169.
  * Clean up /tmp/ directory again. (Closes: #779169, LP: #1424992)

 -- Martin Pitt <mpitt@debian.org>  Fri, 27 Feb 2015 07:02:09 +0100

systemd (219-3) experimental; urgency=medium

  * sysv-generator: fix wrong "Overwriting existing symlink" warnings.
    (Closes: #778700)
  * Add systemd-fsckd multiplexer and feed its output to plymouth. This
    provides an aggregate progress report of running file system checks and
    also allows cancelling them with ^C, in both text mode and Plymouth.
    (Closes: #775093, #758902; LP: #1316796)
  * Revert "journald: allow restarting journald without losing stream
    connections". This was a new feature in 219, but currently causes boot
    failures due to logind and other services not starting up properly.
    (Closes: #778970; LP: #1423811)
  * Add "boot-smoke" autopkgtest: Test 20 successful reboots in a row, and
    that there are no connection timeouts or stalled jobs. This reproduces the
    above regression.
  * debian/tests/localed-locale: Set up locale and keyboard default files on a
    minimal unconfigured testbed.
  * Add missing python3 test dependency to cmdline-upstart-boot and
    display-managers autopkgtests.
  * debian/tests/boot-and-services: Skip AppArmor test if AppArmor is not
    enabled.
  * debian/tests/boot-and-services: Reboot also if lightdm was just installed
    but isn't running yet.

 -- Martin Pitt <mpitt@debian.org>  Mon, 23 Feb 2015 09:52:12 +0100

systemd (219-2) experimental; urgency=medium

  * Fix UTF-16 to UTF-8 conversion on big-endian machines. (Closes: #778654)
  * Disable new new test-sigbus, it fails on some buildds due to too old
    kernels. (part of #778654)
  * debian/README.Debian, debian/systemd.postinst: Drop setfacl call for
    /var/log/journal, this is now done automatically by tmpfiles.d/systemd.conf.
  * Drop "acl" dependency, not necessary any more with the above.
  * debian/tests/boot-and-services: Move to using /var/lib/machines/,
    /var/lib/containers is deprecated.

 -- Martin Pitt <mpitt@debian.org>  Wed, 18 Feb 2015 15:29:42 +0100

systemd (219-1) experimental; urgency=medium

  [ Martin Pitt ]
  * New upstream release:
    - Fix spelling mistake in systemd.unit(5). (Closes: #773302)
    - Fix timeouts with D-Bus, leading to SIGFPE. (Closes: #774012)
    - Fix load/save of multiple rfkill states. (Closes: #759489)
    - Non-persistent journal (/run/log/journal) is now readable by group adm.
      (Closes: #771980)
    - Read netdev user mount option to correctly order network mounts after
      network.target. (Closes: #769186)
    - Fix 60-keyboard.hwdb documentation and whitespace handling.
      (Closes: #757367)
    - Fix ThinkPad X1 Carbon 20BT trackpad buttons (LP: #1414930)
    - Drop all backported patches and port the others to new upstream release.
  * Bump libblkid-dev build dependency as per upstream configure.ac.
  * debian/systemd.install: Add new language-fallback-map file.
  * debian/udev.install: Add new systemd-hwdb tool.
  * debian/libsystemd0.symbols: Add new symbols from this release.
  * tmpfiles.d/systemd.conf: Drop "wheel" ACL (that group does not exist in
    Debian) to make the ACL for "adm" actually work.
  * debian/rules: Explicitly disable importd for now; it should still mature a
    bit. Explicitly enable hwdb support.
  * /lib/lsb/init-functions.d/40-systemd: Call systemctl is-system-running
    with --quiet. (LP: #1421058)
  * debian/systemd.postrm: Clean getty@tty1.service and remote-fs.target
    enablement symlinks on purge. (Closes: #778499)
  * Move all Debian specific units in the systemd package into
    debian/extra/units/ and simplify debian/systemd.install.
  * Enable timesyncd by default. Add a config drop-in to not start if ntp,
    openntpd, or chrony is installed. (Closes: #755722)
  * debian/systemd.links: Drop obsolete hwclockfirst.service mask link, this
    was dropped in wheezy's util-linux already.
  * debian/udev.postinst: Call systemd-hwdb instead of udevadm hwdb.

  [ Michael Biebl ]
  * Stop removing firstboot man pages. They are now installed conditionally.

 -- Martin Pitt <mpitt@debian.org>  Tue, 17 Feb 2015 15:51:38 +0100

systemd (218-10) experimental; urgency=medium

  * Pull latest keymaps from upstream git. (LP: #1334968, #1409721)
  * rules: Fix by-path of mmc RPMB partitions and don't blkid them. Avoids
    kernel buffer I/O errors and timeouts. (LP: #1333140)
  * Clean up stale mounts when ejecting CD drives with the hardware eject
    button. (LP: #1168742)
  * Document systemctl --failed option. (Closes: #767267)
  * Quiesce confusing and irrelevant "failed to reset devices.list" warning.
    (LP: #1413193)
  * When booting with systemd-bootchart, default to run systemd rather than
    /sbin/init (which might not be systemd). (LP: #1417059)
  * boot-and-services autopkgtest: Add CgroupsTest to check cgroup
    creation/cleanup behaviour. This reproduces #777601 and verifies the fix
    for it.

 -- Martin Pitt <mpitt@debian.org>  Fri, 13 Feb 2015 12:25:06 +0100

systemd (218-9) experimental; urgency=medium

  [ Martin Pitt ]
  * debian/tests/logind: With dropped systemd-logind-launch we don't have a
    visible /sys/fs/cgroup/systemd/ any more under cgmanager. So adjust the
    test to check /proc/self/cgroup instead.
  * Add unit-config autopkgtest to check systemd unit/sysv init enabling and
    disabling via systemctl. This also reproduces #777613.
  * systemctl: Always install/enable/disable native units, even if there is a
    corresponding SysV script and we call update-rc.d; while the latter
    handles WantedBy=, it does not handle Alias=. (Closes: #777613)
  * cgroup: Don't trim cgroup trees created by someone else, just the ones
    that systemd itself created. This avoids cleaning up empty cgroups from
    e.g. LXC. (Closes: #777601)
  * Don't parse /etc/mtab for current mounts, but /proc/self/mountinfo. If the
    former is a file, it's most likely outdated on boot, leading to race
    conditions and unmounts during boot. (LP: #1419623)

  [ Michael Biebl ]
  * Explicitly disable the features we don't want to build for those with
    autodetection. This ensures reliable build results in dirty build
    environments.
  * Disable AppArmor support in the udeb build.
  * core: Don't fail to run services in --user instances if $HOME is missing.
    (Closes: #759320)

  [ Didier Roche ]
  * default-display-manager-generator: Avoid unnecessary /dev/null symlink and
    warning if there is no display-manager.service unit.

 -- Michael Biebl <biebl@debian.org>  Thu, 12 Feb 2015 18:45:12 +0100

systemd (218-8) experimental; urgency=medium

  [ Martin Pitt ]
  * boot-and-services autopkgtest: Ensure that there are no failed units,
    except possibly systemd-modules-load.service (as that notoriously fails
    with cruft in /etc/modules).
  * Revert "input" system group creation in systemd.postinst from 218-7. It's
    already done in udev.postinst.
  * ifup@.service: Revert checking for existance of ifupdown config for that
    interface, net.agent already does that.
  * Drop Also-redirect-to-update-rc.d-when-not-using-.service.patch; not
    necessary any more with the current version (mangle_names() already takes
    care of this).
  * Merge into Add-support-for-rcS.d-init-scripts-to-the-sysv-gener.patch:
    - Do-not-order-rcS.d-services-after-local-fs.target-if.patch, as it
      partially reverts the above, and is just fixing it.
    - Map-rcS.d-init-script-dependencies-to-their-systemd-.patch as it's just
      adding some missing functionality for the same purpose.
  * Merge Run-update-rc.d-defaults-before-update-rc.d-enable-d.patch into
    Make-systemctl-enable-disable-call-update-rc.d-for-s.patch as the former
    is fixing the latter and is not an independent change.
  * Drop Launch-logind-via-a-shell-wrapper.patch and systemd-logind-launch
    wrapper. The only remaining thing that we need from it is to create
    /run/systemd/, move that into the D-BUS service file directly.
  * /lib/lsb/init-functions.d/40-systemd: Avoid deadlocks during bootup and
    shutdown. DHCP/ifupdown and similar hooks which call "/etc/init.d/foo
    reload" can easily cause deadlocks, since the synchronous wait plus
    systemd's normal behaviour of transactionally processing all dependencies
    first easily causes dependency loops. Thus during boot/shutdown operate
    only on the unit and not on its dependencies, just like SysV behaves.
    (Closes: #777115, LP: #1417010)
  * Only start logind if dbus is installed. This fixes the noisy startup
    failure in environments without dbus, such as LXC containers or servers.
    (part of #772700)
  * Add getty-static.service unit which starts getty@.service on tty 2 to 6 if
    dbus is not installed, and hence logind cannot auto-start them on demand.
    (Closes: #772700)

  [ Michael Biebl ]
  * Update insserv-generator and map $x-display-manager to
    display-manager.service, following the recent change in sysv-generator.
    This avoids creating references to a no longer existing
    x-display-manager.target unit.

 -- Martin Pitt <mpitt@debian.org>  Mon, 09 Feb 2015 18:07:22 +0100

systemd (218-7) experimental; urgency=medium

  [ Martin Pitt ]
  * Don't attempt to mount the same swap partition twice through different
    device node aliases. (Closes: #772182, LP: #1399595)
  * logind: handle closing sessions over daemon restarts. (Closes: #759515,
    LP: #1415104)
  * logind: Fix sd_eviocrevoke ioctl call, to make forced input device release
    after log out actually work.
  * debian/rules: Drop obsolete --disable-multi-seat-x and
    --with-firmware-path configure options.
  * debian/udev.README.Debian: Trim the parts which are obsolete, wrong, or
    described in manpages. Only keep the Debian specific bits.
    (Part of #776546)
  * Actually install udev's README.Debian when building for Debian.
    (Closes: #776546)
  * Create system group "input" which was introduced in 215. (LP: #1414409)
  * ifup@.service: Don't fail if the interface is not configured in
    /etc/network/interfaces at all. (LP: #1414426)

  [ Michael Biebl ]
  * Update Vcs-Browser URL to use cgit and https.
  * Map $x-display-manager LSB facility to display-manager.service instead of
    making it a target. Using a target had the downside that multiple display
    managers could hook into it at the same time which could lead to several
    failed start attempts for the non-default display manager.

 -- Martin Pitt <mpitt@debian.org>  Sun, 01 Feb 2015 20:48:49 +0100

systemd (218-6) experimental; urgency=medium

  [ Martin Pitt ]
  * initramfs hook: Install 61-persistent-storage-android.rules if it exists.
  * Generate POT file during package build, for translators.
  * Pull latest keymaps from upstream git.
  * Order ifup@.service and networking.service after network-pre.target.
    (Closes: #766938)
  * Tone down "Network interface NamePolicy= disabled on kernel commandline,
    ignoring" info message to debug, as we expect this while we disable
    net.ifnames by default. (Closes: #762101, LP: #1411992)

  [ Michael Biebl ]
  * Ship bash-completion for udevadm. (Closes: #776166)
  * Drop rc-local generator in favor of statically enabling rc-local.service,
    and drop halt-local.service which is unnecessary on Debian.
    (Closes: #776170)
  * Drop the obsolete libsystemd-* libraries, there are no reverse
    dependencies left.

 -- Martin Pitt <mpitt@debian.org>  Mon, 26 Jan 2015 15:45:45 +0100

systemd (218-5) experimental; urgency=medium

  * Drop logger.agent. It hasn't been called from any udev rule for a long
    time, and looks obsolete.
  * debian/rules: Configure with --disable-firstboot to replace some manual
    file removals.
  * debian/rules: Remove manual file installation, move them to
    debian/*.install. Move all Debian specific installed files to
    debian/extra/.
  * Merge some changes from the Ubuntu package to reduce the delta; these only
    apply when building on/for Ubuntu:
    - Add 40-hyperv-hotadd.rules: Workaround for LP: #1233466.
    - Add 61-persistent-storage-android.rules to create persistent symlinks
      for partitions with PARTNAME. By Ricardo Salveti.
    - Add 71-power-switch-proliant.rules for supporting the power switches of
      ProLiant Server Cartridges. By Dann Frazier.
    - Add 78-graphics-card.rules: Mark KMS capable graphics devices as
      PRIMARY_DEVICE_FOR_DISPLAY so that we can wait for those in plymouth.
      By Scott James Remnant.
    - Don't install the Debian *.agent scripts. Instead, have Ubuntu's
      80-networking.rules directly pull in ifup@.service, which is much easier
      and more efficient.
  * Make EPERM/EACCESS when applying OOM adjustment for forked processes
    non-fatal. This happens in user namespaces like unprivileged LXC
    containers.
  * Fix assertion failure due to /dev/urandom being unmounted when shutting
    down unprivileged containers. Thanks St√©phane Graber.
  * Enable EFI support. This mostly auto-mounts /sys/firmware/efi/efivars, but
    also provides a generator for auto-detecting the root and the /boot/efi
    partition if they aren't in /etc/fstab. (Closes: #773533)

 -- Martin Pitt <mpitt@debian.org>  Thu, 22 Jan 2015 16:13:46 +0100

systemd (218-4) experimental; urgency=medium

  [ Michael Biebl ]
  * sysv-generator: handle Provides: for non-virtual facility names.
    (Closes: #774335)
  * Fix systemd-remount-fs.service to not fail on remounting /usr if /usr
    isn't mounted yet. This happens with initramfs-tools < 0.118 which we
    might not get into Jessie any more. (Closes: #742048)

  [ Martin Pitt ]
  * fstab-generator: Handle mountall's non-standard "nobootwait" and
    "optional" options. ("bootwait" is already the systemd default behaviour,
    and "showthrough" is irrelevant here, so both can be ignored).
  * Add autopkgtest for one-time boot with upstart when systemd-sysv is
    installed. This test only works under Ubuntu which has a split out
    upstart-bin package, and will be skipped under Debian.
  * debian/ifup@.service: Check if ifup succeeds by calling ifquery, to
    work around ifup not failing on invalid interfaces (see #773539)
  * debian/ifup@.service: Set proper service type (oneshot).
  * sysv-generator: Handle .sh suffixes when translating Provides:.
    (Closes: #775889)
  * sysv-generator: Make real units overwrite symlinks generated by Provides:
    from other units. Fixes failures due to presence of backup or old init.d
    scripts. (Closes: #775404)
  * Fix journal forwarding to syslog in containers without CAP_SYS_ADMIN.
    (Closes: #775067)
  * Re-enable AppArmor support, now that libapparmor1 moved to /lib. Add
    versioned dependency as long as this is still only in experimental.
    (Closes: #775331)
  * Add some missing dpkg and ucf temp files to the "hidden file" filter, to
    e. g. avoid creating units for them through the sysv-generator.
    (Closes: #775903)
  * Silence useless warning about /etc/localtime not being a symlink. This is
    deliberate in Debian with /usr (possibly) being on a separate partition.
    (LP: #1409594)

  [ Christian Kastner ]
  * Use common-session-noninteractive in systemd-user's PAM config, instead of
    common-session. The latter can include PAM modules like libpam-mount which
    expect to be called just once and/or interactively, which already happens
    for login, ssh, or the display-manager. Add pam_systemd.so explicitly, as
    it's not included in -noninteractive, but is always required (and
    idempotent). There is no net change on systemd which don't use manually
    installed PAM modules. (Closes: #739676)

  [ Michael Biebl ]
  * Make sure we run debian-fixup.service after /var has been mounted if /var
    is on a separate partition. Otherwise we might end up creating the
    /var/lock and /var/run symlink in the underlying root filesystem.
    (Closes: #768644)

 -- Martin Pitt <mpitt@debian.org>  Wed, 21 Jan 2015 15:57:50 +0100

systemd (218-3) experimental; urgency=medium

  * build-logind autopkgtest: Re-enforce that sd_login_monitor_new() succeeds,
    and restrict this test to isolation-container. (Reproduces LP #1400203)
  * Bring back patch to make sd_login_monitor_new() work under other init
    systems where /sys/fs/cgroup/systemd/machine does not exist.
    (LP: #1400203)
  * build-login autopkgtest: Build against libsystemd, not libsystemd-login
    any more.
  * Add debian/extra/systemd-vconsole-setup.service dependency shim for
    the console-setup init script, to avoid breaking dependencies of
    third-party packages. Install it for Ubuntu only for now, as in Debian
    plymouth's unit got adjusted. (LP: #1392970, Debian #755194)
  * Mark systemd{,-sysv} as M-A: foreign (thanks lintian).
  * Quiesce maintainer-script-calls-systemctl lintian warning.
  * Quiesce possibly-insecure-handling-of-tmp-files lintian warning, it's
    wrong there (we are handling tmpfiles.d/ files which are not in a temp
    dir).
  * Use dh_installinit's --noscript instead of --no-start for the upstart
    jobs without sysvinit scripts (thanks lintian).
  * Put systemd.pc into arch specific pkgconfig dir, as it contains the arch
    specific libdir value.
  * Don't enable audit by default. It causes flooding of dmesg and syslog,
    suppressing actually important messages. (Closes: #773528)
  * Cherrypick various bug fixes in loopback device setup and netlink socket
    communication. Fixes massive CPU usage due to tight retry loops in user
    LXC containers.

 -- Martin Pitt <mpitt@debian.org>  Mon, 29 Dec 2014 14:55:35 +0100

systemd (218-2) experimental; urgency=medium

  * boot-and-services AppArmor autopkgtest: Stop checking the dmesg log; it is
    racy as sometimes message bursts are suppressed.
  * Fix crash in timedatectl with Etc/UTC.
  * Prefer-etc-X11-default-display-manager-if-present.patch: Drop wrong
    copy&paste'd comment, fix log strings. Thanks Adam D. Barratt.
  * boot-and-services: Robustify Nspawn tests, and show systemd-nspawn output
    on failure.
  * Disable tests which fail on buildds, presumably due to too old kernels,
    misconfigured /etc/hosts, and similar problems. Make failures of the test
    suite fatal now.

 -- Martin Pitt <mpitt@debian.org>  Tue, 16 Dec 2014 08:24:38 +0100

systemd (218-1) experimental; urgency=medium

  * New upstream release. Drop all cherry-picked patches and port the Debian
    specific ones.
    - Create /etc/machine-id on boot if missing. (LP: #1387090)
  * Add new libmount-dev build dependency.
  * Configure with --enable-split-usr.
  * Merge some permanent Ubuntu changes, using dpkg-vendor:
    - Don't symlink udev doc directories.
    - Add epoch to gudev packages; Ubuntu packaged the standalone gudev before
      it got merged into udev.
    - Add Apport hooks for udev and systemd.
  * udev-fallback-graphics upstart job: Guard the modprobe with || true to
    avoid a failure when vesafb is compiled in. (LP: #1367241)

 -- Martin Pitt <mpitt@debian.org>  Sun, 14 Dec 2014 13:58:39 +0100

systemd (217-4) experimental; urgency=medium

  [ Martin Pitt ]
  * Reinstate a debian/extra/rules/50-firmware.rules which immediately tells
    the kernel that userspace firmware loading failed. Otherwise it tries for a
    minute to call the userspace helper (if CONFIG_FW_LOADER_USER_HELPER is
    enabled) in vain, which causes long delays with devices which have a range
    of possible firmware versions. (LP: #1398458)
  * debian/systemd.postinst: Don't always restart journald, as this currently
    can't be done without losing the current journal and breaking attached
    processes. So only restart it from upgrades < 215-3 (where the socket
    location got moved) as an one-time upgrade path from wheezy.
    (Closes: #771122)
  * Revert "Modify insserv generator to mask sysvinit-only display managers".
    This is still under dispute, a bit risky, and might get a different
    implementation. Also, nodm really needs to be fixed properly, working
    around it is both too risky and also too hard to get right.

  [ Didier Roche ]
  * Add display managers autopkgtests.
  * Reset display-manager symlink to match /e/X/d-d-m even if
    display-manager.service was removed. Adapt the autopkgtests for it.
    (LP: #1400680)

 -- Martin Pitt <mpitt@debian.org>  Thu, 11 Dec 2014 18:06:54 +0200

systemd (217-3) experimental; urgency=medium

  [ Martin Pitt ]
  * systemd.bug-script: Really capture stderr of systemd-delta.
    (Closes: #771498)
  * boot-and-services autopkgtest: Give test apparmor job some time to
    actually finish.

  [ Didier Roche ]
  * updated debian/patches/insserv.conf-generator.patch:
    - if /etc/X11/default-display-manager doesn't match a systemd unit
      (or doesn't exist), be less agressive about what to mask: we let
      all sysvinit-only display-manager units enabled to fallback to previous
      behavior and let them starting. (Closes: #771739)

 -- Martin Pitt <mpitt@debian.org>  Tue, 02 Dec 2014 16:53:36 +0100

systemd (217-2) experimental; urgency=medium

  * Re-enable journal forwarding to syslog, until Debian's sysloggers
    can/do all read from the journal directly.
  * Fix hostnamectl exit code on success.
  * Fix "diff failed with error code 1" spew with systemd-delta.
    (Closes: #771397)
  * Re-enable systemd-resolved. This wasn't meant to break the entire
    networkd, just disable the new NSS module. Remove that one manually
    instead. (Closes: #771423, LP: #1397361)
  * Import v217-stable patches (up to commit bfb4c47 from 2014-11-07).
  * Disable AppArmor again. This first requires moving libapparmor to /lib
    (see #771667). (Closes: #771652)
  * systemd.bug-script: Capture stderr of systemd-{delta,analyze}.
    (Closes: #771498)

 -- Martin Pitt <mpitt@debian.org>  Mon, 01 Dec 2014 15:09:09 +0100

systemd (217-1) experimental; urgency=medium

  [ Martin Pitt ]
  * New upstream release. Drop all cherry-picked patches and port the Debian
    specific ones.
  * Disable systemd-resolved for now. It still needs to mature, and
    integration into Debian should be discussed first.
  * Bump util-linux dependency to >= 2.25 as per NEWS.
  * Drop installation of 50-firmware.rules, not shipped upstream any more.
    Firmware loading is now exclusively done by the kernel.
  * Drop installation of readahead related services and code, readahead got
    dropped in this version.
  * Ship new networkctl CLI tool.
  * debian/libsystemd0.symbols: Add new symbols from this release.
  * debian/rules: Call dpkg-gensymbols with -c4 to immediately spot
    changed/missing symbols during build.
  * boot-and-services autopkgtest: Test AppArmor confined units (LP #1396270)
  * Create new "systemd-journal-remote" system group, for
    systemd-tmpfiles-setup.service.

  [ Marc Deslauriers ]
  * Build-depend on libapparmor-dev to enable AppArmor support. (LP: #1396270)

  [ Didier Roche ]
  * Handle display-manager transitions: (Closes: #748668)
    - Add a generator to ensure /etc/X11/default-display-manager is controlling
      which display-manager is started.
    - Modify insserv generator to mask of sysvinit-only dms with insserv
      $x-display-manager tag if they don't match
      /etc/X11/default-display-manager. This avoids starting multiple dms at
      boot.
  * Cherry-pick Shared-add-readlink_value.patch as using that function in the
    generator.

 -- Martin Pitt <mpitt@debian.org>  Fri, 28 Nov 2014 10:53:58 +0100

systemd (215-18) unstable; urgency=medium

  [ Michael Biebl ]
  * manager: Pass correct errno to strerror(), have_ask_password contains
    negative error values which have to be negated when being passed to
    strerror().

  [ Martin Pitt ]
  * Revert upstream commit 743970d which immediately SIGKILLs units during
    shutdown. This leads to problems like bash not being able to write its
    history, mosh not saving its state, and similar failed cleanup actions.
    (Closes: #784720, LP: #1448259)
  * write_net_rules: Escape '{' and '}' characters as well, to make this work
    with busybox grep. Thanks Faidon Liambotis! (Closes: #765577)

 -- Martin Pitt <mpitt@debian.org>  Thu, 21 May 2015 15:49:30 +0200

systemd (215-17) unstable; urgency=high

  * cryptsetup: Implement offset and skip options. (Closes: #751707,
    LP: #953875)

 -- Martin Pitt <mpitt@debian.org>  Thu, 16 Apr 2015 10:26:46 -0500

systemd (215-16) unstable; urgency=medium

  [ Christian Seiler ]
  * Don't run hwclock-save.service in containers. (Closes: #782377)

  [ Michael Biebl ]
  * Do not print anything while passwords are being queried. This should make
    password prompts without plymouth more usable. (Closes: #765013)
  * Skip filesystem check if already done by the initramfs. (Closes: #782522)

 -- Michael Biebl <biebl@debian.org>  Mon, 13 Apr 2015 19:42:32 +0200

systemd (215-15) unstable; urgency=medium

  [ Adam Conrad ]
  * debian/systemd.{triggers,postinst}: Trigger a systemctl daemon-reload
    when init scripts are installed or removed (Closes: #766429)

  [ Martin Pitt ]
  * Fix getty restart loop when PTS device is gone. (Closes: #780711)
  * Run timesyncd in virtual machines. (Closes: #762343)
  * Make logind work in environments without CAP_SYS_ADMIN (mostly
    containers). Thanks Christian Seiler for the backporting!
    (Closes: #778608)
  * Check for correct signatures when setting properties. Fixes systemd
    getting stuck on trying to set invalid property types. (Closes: #781602)

 -- Martin Pitt <mpitt@debian.org>  Thu, 09 Apr 2015 10:12:37 +0200

systemd (215-14) unstable; urgency=medium

  [ Michael Biebl ]
  * Map $x-display-manager LSB facility to display-manager.service instead of
    making it a target. Using a target had the downside that multiple display
    managers could hook into it at the same time which could lead to several
    failed start attempts for the non-default display manager.
  * Update insserv-generator and map $x-display-manager to
    display-manager.service, following the recent change in sysv-generator.
    This avoids creating references to a no longer existing
    x-display-manager.target unit.
  * Cherry-pick upstream fix to increase the SendBuffer of /dev/log to 8M.

  [ Martin Pitt ]
  * scope: Make attachment of initial PIDs more robust. Fixes crash with
    processes that get started by an init.d script with a different (aliased)
    name when the cgroup becomes empty. (Closes: #781210)
  * boot-and-services, display-managers autopkgtests: Add missing python3 test
    dependency.
  * Don't attempt to mount the same swap partition twice through different
    device node aliases. (Closes: #772182, LP: #1399595)

  [ Christian Seiler ]
  * Make the journald to syslog forwarding more robust by increasing the
    maximum datagram queue length from 10 to 512. (Closes: #762700)

  [ Marco d'Itri ]
  * Avoid writing duplicate entries in 70-persistent-net.rules by double
    checking if the new udev rule has already been written for the given
    interface. This happens if multiple add events are generated before the
    write_net_rules script returns and udevd renames the interface.
    (Closes: #765577)

 -- Michael Biebl <biebl@debian.org>  Mon, 30 Mar 2015 13:26:52 +0200

systemd (215-13) unstable; urgency=medium

  [ Martin Pitt ]
  * Add hwclock-save.service to sync the system clock to the hardware clock on
    shutdown, to provide monotonic time for reboots. (Note: this is a hack for
    jessie; the next Debian release will enable timesyncd by default).
    (Closes: #755722)
  * Check for correct architecture identifiers for SuperH. (Closes: #779710)
  * networkd: Fix stopping v4 dhcpclient when the carrier is lost. Thanks
    Christos Trochalakis! (Closes: #779571)
  * Fix segfault with units that depend on themselves. (Closes: #780675)
  * tmpfiles-setup-dev: Call tmpfiles with --boot to allow unsafe device
    creation. Fixes creation of static device nodes with kmod 20.
    (Closes: #780263)

  [ Christian Seiler ]
  * core: Don't migrate PIDs for units that may contain subcgroups.
    This stops messing up lxc/libvirt/other custom cgroup layouts after
    daemon-reload. (Closes: #777164)
  * sysv-generator: add support for /etc/insserv/overrides. (Closes: #759001)

  [ Michael Biebl ]
  * debian/udev.init: Recognize '!' flag with static device lists, to work
    with kmod 20. (Closes: #780263)

  [ Didier Roche ]
  * Ensure PrivateTmp doesn't require tmpfs through tmp.mount, but rather adds
    an After relationship. (Closes: #779902)

 -- Martin Pitt <mpitt@debian.org>  Thu, 26 Mar 2015 14:23:35 +0100

systemd (215-12) unstable; urgency=medium

  [ Martin Pitt ]
  * debian/udev.README.Debian: Trim the parts which are obsolete, wrong, or
    described in manpages. Only keep the Debian specific bits.
    (Part of #776546)
  * Actually install udev's README.Debian when building for Debian.
    (Closes: #776546)
  * Only start logind if dbus is installed. This fixes the noisy startup
    failure in environments without dbus such as LXC containers or servers.
    (part of #772700)
  * Add getty-static.service unit which starts getty@.service on tty 2 to 6 if
    dbus is not installed, and hence logind cannot auto-start them on demand.
    (Closes: #772700)
  * Add unit-config autopkgtest to check systemd unit/sysv init enabling and
    disabling via systemctl. This avoids bugs like #777613 (did not affect
    unstable).
  * cgroup: Don't trim cgroup trees created by someone else, just the ones
    that systemd itself created. This avoids cleaning up empty cgroups from
    e.g. LXC. (Closes: #777601)
  * boot-and-services autopkgtest: Add CgroupsTest to check cgroup
    creation/cleanup behaviour. This reproduces #777601 and verifies the fix
    for it.
  * rules: Fix by-path of mmc RPMB partitions and don't blkid them. Avoids
    kernel buffer I/O errors and timeouts. (LP: #1333140)
  * Document systemctl --failed option. (Closes: #767267)

  [ Michael Biebl ]
  * core: Don't fail to run services in --user instances if $HOME is missing.
    (Closes: #759320)

  [ Didier Roche ]
  * default-display-manager-generator: Avoid unnecessary /dev/null symlink and
    warning if there is no display-manager.service unit.

 -- Martin Pitt <mpitt@debian.org>  Fri, 13 Feb 2015 12:08:31 +0100

systemd (215-11) unstable; urgency=medium

  [ Martin Pitt ]
  * escape-beef-up-new-systemd-escape-tool.patch: Avoid creating a dangling
    symlink, to work around regression in recent patch (see #776257).
  * Order ifup@.service and networking.service after network-pre.target.
    (Closes: #766938)
  * Tone down "Network interface NamePolicy= disabled on kernel commandline,
    ignoring" info message to debug, as we expect this while we disable
    net.ifnames by default. (Closes: #762101, LP: #1411992)
  * logind: handle closing sessions over daemon restarts. (Closes: #759515,
    LP: #1415104)
  * logind: Fix sd_eviocrevoke ioctl call, to make forced input device release
    after log out actually work.
  * debian/patches/series: Move upstreamed patches into the appropriate
    section.

  [ Michael Biebl ]
  * Make sure we run debian-fixup.service after /var has been mounted if /var
    is on a separate partition. Otherwise we might end up creating the
    /var/lock and /var/run symlink in the underlying root filesystem.
    (Closes: #768644)

 -- Martin Pitt <mpitt@debian.org>  Thu, 29 Jan 2015 09:01:54 +0100

systemd (215-10) unstable; urgency=medium

  [ Martin Pitt ]
  * sysv-generator: Handle .sh suffixes when translating Provides:.
    (Closes: #775889)
  * sysv-generator: Make real units overwrite symlinks generated by Provides:
    from other units. Fixes failures due to presence of backup or old init.d
    scripts. (Closes: #775404)
  * Fix journal forwarding to syslog in containers without CAP_SYS_ADMIN.
    (Closes: #775067)

  [ Christian Kastner ]
  * Use common-session-noninteractive in systemd-user's PAM config, instead of
    common-session. The latter can include PAM modules like libpam-mount which
    expect to be called just once and/or interactively, which already happens
    for login, ssh, or the display-manager. Add pam_systemd.so explicitly, as
    it's not included in -noninteractive, but is always required (and
    idempotent). There is no net change on systemd which don't use manually
    installed PAM modules. (Closes: #739676)

 -- Martin Pitt <mpitt@debian.org>  Wed, 21 Jan 2015 13:18:05 +0100

systemd (215-9) unstable; urgency=medium

  [ Didier Roche ]
  * Add display managers autopkgtests.
  * Reset display-manager symlink to match /e/X/d-d-m even if
    display-manager.service was removed. Adapt the autopkgtests for it.

  [ Martin Pitt ]
  * Prefer-etc-X11-default-display-manager-if-present.patch: Drop wrong
    copy&paste'd comment, fix log strings. Thanks Adam D. Barratt.
  * Log all members of cyclic dependencies (loops) even with quiet on the
    kernel cmdline. (Closes: #770504)
  * Don't auto-clean PrivateTmp dir in /var/tmp; in Debian we don't want to
    clean /var/tmp/ automatically. (Closes: #773313)

  [ Michael Biebl ]
  * sysv-generator: handle Provides: for non-virtual facility names.
    (Closes: #774335)
  * Fix systemd-remount-fs.service to not fail on remounting /usr if /usr
    isn't mounted yet. This happens with initramfs-tools < 0.118 which we
    might not get into Jessie any more. (Closes: #742048)

 -- Martin Pitt <mpitt@debian.org>  Tue, 13 Jan 2015 11:24:43 +0100

systemd (215-8) unstable; urgency=medium

  [ Didier Roche ]
  * Cherry-pick shared-add-readlink_value.patch, we will use that function in
    the generator.
  * Cherry-pick util-allow-strappenda-to-take-any-number-of-args.patch, we
    will use that function in the generator.
  * Handle multiple display managers which don't ship a systemd unit or the
    corresponding postinst logic for updating display-manager.service: Add a
    generator to ensure /etc/X11/default-display-manager is controlling which
    display-manager is started. (Closes: #771287)

  [ Sjoerd Simons ]
  * d/p/core-Fix-bind-error-message.patch:
    + Added. Fix error message on bind failure to print the full path
  * d/p/core-Make-binding-notify-private-dbus-socket-more-ro.patch:
    + Added. Be more robust when binding private unix sockets (Based on current
    upstream logic) (Closes: #761306)

  [ Martin Pitt ]
  * Clean up ...journal~ files from unclean shutdowns. (Closes: #771707)
  * debian/systemd.postinst: Don't always restart journald, as this currently
    can't be done without losing the current journal and breaking attached
    processes. So only restart it from upgrades < 215-3 (where the socket
    location got moved) as an one-time upgrade path from wheezy.
    (Closes: #771122)
  * journalctl: Fix help text for --until. (Closes: #766598)
  * Bump systemd's udev dependency to >= 208-8, so that on partial upgrades we
    make sure that the udev package has appropriate Breaks:. In particular,
    this avoids installing current udev with kmod << 14. (Closes: #771726)

  [ Michael Biebl ]
  * systemd.postinst: Move unit enablement after restarting systemd, so that
    we don't fail to enable units with keywords that wheezy's systemd does not
    understand yet. Fixes enabling getty units on wheezy upgrades with
    systemd. (Closes: #771204)

 -- Martin Pitt <mpitt@debian.org>  Fri, 05 Dec 2014 10:01:24 +0100

systemd (215-7) unstable; urgency=medium

  [ Martin Pitt ]
  * Add myself to Uploaders.
  * Add boot-and-services autopkgtest: Check booting with systemd-sysv and
    that the most crucial services behave as expected.
  * logind autopkgtest: Fix stderr output in waiting loop for scsi_debug.
  * Add nspawn test to boot-and-services autopkgtest.
  * Make systemd-nspawn@.service work out of the box: (Closes: #770275)
    - Pre-create /var/lib/container with a secure mode (0700) via tmpfiles.d.
    - Add new try-{guest,host} modes for --link-journal to silently skip
      setting up the guest journal if the host has no persistent journal.
    - Extend boot-and-services autopkgtest to cover systemd-nspawn@.service.
  * Cherry-pick upstream patch to fix SELinux unit access check (regression
    in 215).
  * sysv-generator: Avoid wrong dependencies for failing units. Thanks to
    Michael Biebl for the patch! (Closes: #771118)
  * Cherry-pick patches to recognize and respect the "discard" mount option
    for swap devices. Thanks to Aurelien Jarno for finding and testing!
    (Closes: #769734)

  [ Jon Severinsson]
  * Add /run/shm -> /dev/shm symlink in debian/tmpfiles.d/debian.conf. This
    avoids breakage in Jessie for packages which still refer to /run/shm, and
    while https://wiki.debian.org/ReleaseGoals/RunDirectory is still official.
    (LP: #1320534, Closes: #674755).

 -- Martin Pitt <mpitt@debian.org>  Fri, 28 Nov 2014 06:43:15 +0100

systemd (215-6) unstable; urgency=medium

  [ Martin Pitt ]
  * Cherry-pick upstream patch to fix udev crash in link_config_get().
  * Cherry-pick upstream patch to fix tests in limited schroot environments.
  * Add d/p/Add-env-variable-for-machine-ID-path.patch: Allow specifying an
    alternate /etc/machine-id location. This is necessary for running tests
    as long as it isn't in our base images (see Debian #745876)
  * Run tests during package build. For the first round don't make them fatal
    for now (that will happen once we see results from all the architectures).
  * Drop our Check-for-kmod-binary.patch as the upstream patch
    units-conditionalize-static-device-node-logic-on-CAP.patch supersedes it.
  * Drop Use-comment-systemd.-syntax-in-systemd.mount-man-pag.patch, as
    our util-linux is now recent enough. Bump dependency to >= 2.21.
  * Adjust timedated and hostnamed autopkgtests to current upstream version.
  * Replace our Debian hwdb.bin location patch with what got committed
    upstream. Run hwdb update with the new --usr option to keep current
    behaviour.
  * debian/README.Debian: Document how to debug boot or shutdown problems with
    the debug shell. (Closes: #766039)
  * Skip-99-systemd.rules-when-not-running-systemd-as-in.patch: Call path_id
    under all init systems, to get consistent ID_PATH attributes. This is
    required so that tools like systemd-rfkill can be used with SysVinit or
    upstart scripts, too. (LP: #1387282)
  * Switch libpam-systemd dependencies to prefer systemd-shim over
    systemd-sysv, to implement the CTTE decision #746578. This is a no-op on
    systems which already have systemd-sysv installed, but will prevent
    installing that on upgrades. (Closes: #769747)
  * Remove Tollef from Uploaders: as per his request. Thanks Tollef for all
    you work!
  * net.agent: Properly close stdout/err FDs, to avoid long hangs during udev
    settle. Thanks to Ben Hutchings! (Closes: #754987)
  * Bump Standards-Version to 3.9.6 (no changes necessary).

  [ Didier Roche ]
  * debian/ifup@.service: add a ConditionPath on /run/network, to avoid
    failing the unit if /etc/init.d/networking is disabled. (Closes: #769528)

 -- Martin Pitt <mpitt@debian.org>  Tue, 18 Nov 2014 12:37:22 +0100

systemd (215-5) unstable; urgency=medium

  [ Martin Pitt ]
  * Unblacklist hyperv_fb again, it is needed for graphical support on Hyper-V
    platforms. Thanks Andy Whitcroft! (LP: #1359933)
  * Bump systemd-shim Depends/Breaks to 8-2 to ensure a lockstep upgrade.
    (Closes: #761947)

  [ Sjoerd Simons ]
  * d/p/sd-bus-Accept-no-sender-as-the-destination-field.patch
    + Fix compatibility between systemctl v215 and v208. Resolves issue when
      reloads of services is requested before systemd is re-execed
      (Closes: #762146)

  [ Michael Biebl ]
  * Don't overmount existing /run/user/<UID> directories with a per-user tmpfs
    on upgrades. (Closes: #762041)
  * Re-enable mount propagation for udevd. This avoids that broken software
    like laptop-mode-tools, which runs mount from within udev rules, causes
    the root file system to end up read-only. (Closes: #762018)

 -- Michael Biebl <biebl@debian.org>  Sat, 27 Sep 2014 17:49:47 +0200

systemd (215-4) unstable; urgency=medium

  * Upload to unstable.

 -- Michael Biebl <biebl@debian.org>  Mon, 15 Sep 2014 17:38:30 +0200

systemd (215-3) experimental; urgency=medium

  [ Ben Howard ]
  * 75-persistent-net-generator.rules: Fix matches of HyperV. (LP: #1361272)

  [ Martin Pitt ]
  * 75-persistent-net-generator.rules: Add new MS Azure MAC prefix 00:25:ae.
    (LP: #1367883)

  [ Michael Biebl ]
  * Update upstream v215-stable patch series.
  * The /dev/log socket and /dev/initctl FIFO have been moved to /run and
    replaced by symlinks. Create the symlinks manually on upgrades as well.
    (Closes: #761340)
  * Fix incorrect paths in man pages. (LP: #1357782, Closes: #717491)
  * Make systemd recommend dbus so it is installed on upgrades. The dbus
    system bus is required to run systemd-logind and the autovt feature relies
    on logind. (Closes: #758111)
  * Bump dependency on systemd-shim to (>= 7-2) to ensure we have a version
    which supports systemd >= 209.
  * Rework bug-script to be more upfront about what kind of data is gathered
    and ask the user for permission before attaching the information to the
    bug report. (Closes: #756248)

  [ Sjoerd Simons ]
  * d/p/buildsys-Don-t-default-to-gold-as-the-linker.patch
    + Don't explicitly pick gold as the default linker. Fixes FTBFS on sparc
      (Closes: #760879)

 -- Sjoerd Simons <sjoerd@debian.org>  Sun, 14 Sep 2014 20:14:49 +0200

systemd (215-2) experimental; urgency=medium

  * debian/patches/always-check-for-__BYTE_ORDER-__BIG_ENDIAN-when-chec.patch
    + Added. Fix checking of system endianess. Fixes FTBFS on powerpc
  * debian/patches/timesyncd-when-we-don-t-know-anything-about-the-netw.patch:
    + Let timesyncd go online even if networkd isn't running (from upstream
      git) (Closes: #760087)
  * debian/rules: add systemd-update-utmp-runlevel.service to
    {poweroff, rescue, multi-user, graphical, reboot}.target.wants to trigger
    the runlevel target to be loaded

 -- Sjoerd Simons <sjoerd@debian.org>  Sun, 07 Sep 2014 23:46:02 +0200

systemd (215-1) experimental; urgency=medium

  * New upstream release.
  * Import upstream v215-stable patch series.
  * Rebase remaining Debian patches on top of v215-stable.
  * Drop our Debian-specific run-user.mount unit as upstream now creates a
    per-user tmpfs via logind.
  * Don't rely on new mount from experimental for now and re-add the patch
    which updates the documentation accordingly.
  * Cherry-pick upstream fix to use correct versions for the new symbols that
    were introduced in libudev.
  * Update symbols files
    - Add two new symbols for libudev1.
    - Remove private symbol from libgudev-1.0-0. This symbol was never part of
      the public API and not used anywhere so we don't need a soname bump.
  * Cherry-pick upstream commit to not install busname units if kdbus support
    is disabled.
  * Make /run/lock tmpfs an API fs so it is available during early boot.
    (Closes: #751392)
  * Install new systemd-path and systemd-escape binaries.
  * Cherry-pick upstream commit which fixes the references to the systemctl
    man page. (Closes: #760613)
  * Use the new systemd-escape utility to properly escape the network
    interface name when starting an ifup@.service instance for hotplugged
    network interfaces. Make sure a recent enough systemd version is installed
    by bumping the versioned Breaks accordingly. (Closes: #747044)
  * Order ifup@.service after networking.service so we don't need to setup the
    runtime directory ourselves and we have a defined point during boot when
    hotplugged network interfaces are started.
  * Disable factory-reset feature and remove files associated with it. This
    feature needs more integration work first before it can be enabled in
    Debian.
  * Cherry-pick upstream commit to fix ProtectSystem=full and make the
    ProtectSystem= option consider /bin, /sbin, /lib and /lib64 (if it exists)
    on Debian systems. (Closes: #759689)
  * Use adduser in quiet mode when creating the system users/groups to avoid
    warning messages about the missing home directories. Those are created
    dynamically during runtime. (Closes: #759175)
  * Set the gecos field when creating the system users.
  * Add systemd-bus-proxy system user so systemd-bus-proxyd can properly drop
    its privileges.
  * Re-exec systemd and restart services at the end of postinst.
  * Cherry-pick upstream commit for sd-journal to properly convert
    object->size on big endian which fixes a crash in journalctl --list-boots.
    (Closes: #758392)

 -- Michael Biebl <biebl@debian.org>  Sun, 07 Sep 2014 09:58:48 +0200

systemd (214-1) experimental; urgency=medium

  * New upstream release v214.
    (Closes: #750793, #749268, #747939)

  [ Jon Severinsson ]
  * Import upstream v214-stable patch series.
    - Rebase remaining Debian patches on top of v214-stable.
    - Drop modifications to the now-removed built-in sysvinit support.
  * Install the new combined libsystemd0 library, this library combines all
    functionality of the various libsystemd-* libraries.
    - Deprecate the old libsystemd-* libraries as they've been bundled into
      libsystemd0. The old -dev files now just carry a transitional .pc file.
    - Add new symbols file for libsystemd0.
  * Update symbols file for libgudev-1.0-0.
  * Remove pre-generated rules and unit files in debian/rules clean target.
  * Add new systemd service users in systemd postinst (systemd-timesync,
    systemd-network, systemd-resolve)
  * Add new system group "input" used by udev rules in udev postinst.
  * Try-restart networkd, resolved, and timesyncd after an upgrade.
  * Do not force-enable default-on services on every upgrade.
  * Add support for rcS.d init scripts to the sysv-generator.
    - Do not order rcS.d services after local-fs.target if they do not
      explicitly depend on $local_fs.
    - Map rcS.d init script dependencies to their systemd equivalent.
    - Special-case some dependencies for sysv init scripts for better
      backwards compatibility. (Closes: #726027, #738965).
  * Add systemd depends on new mount. (Closes: #754411)
  * Update /run/initctl symlink target in debian/tmpfiles.d/debian.conf.
  * Remove stored backlog state, rfkill state, random-seed and clock
    information from /var/lib/systemd on systemd purge.

  [ Sjoerd Simons ]
  * debian/patches/shared-include-stdbool.h-in-mkdir.h.patch
    + Added. Include stdbool before using bool in function prototypes. Fixes
      build of the insserv generator
  * Add python-lxml to build-depends for python-systemd
  * Turn on parallel build support
  * Install the new busctl binary and translations
  * Explicitly disable microhttp so the package build doesn't fail if the
    required dependencies for it happen to be installed.
  * debian/control: Make udev break plymouth (<< 0.9.0-7) as older plymouths
    assume udev implementation details that have changed slightly since v213
  * debian/control: Remove b-d on librwap0-dev
  * debian/control: Bump libkmod-dev b-d to >= 15
  * debian/rules: Drop outdated --enable-tcpwrap
  * debian/rules: Explicitly turn off rfkill, networkd, timesyncd and resolved
    for the udeb build
  * debian/rules: Use the debian ntp pool as default ntp servers
  * debian/rules: explicitely configure the maximum system uid/gids instead of
    relying on autodetection

 -- Sjoerd Simons <sjoerd@debian.org>  Sun, 24 Aug 2014 14:54:27 +0200

systemd (208-8) unstable; urgency=medium

  [ Martin Pitt ]
  * Fix duplicate line in copyright. (Closes: #756899)
  * Drop --disable-xattr configure option for udeb, does not exist any more.
  * Add Turkish debconf translations. Thanks Mert Dirik! (Closes: #757498)
  * Backport fix for lazy session-activation on non-seat0 seats.
    (LP: #1355331)

  [ Michael Biebl ]
  * Use "kmod static-nodes --output=/proc/self/fd/1" in make_static_nodes() as
    we can't rely on /dev/stdout to exist at this point during boot.
    (Closes: #757830)
  * Fix udev SysV init script and d-i start script to not write to
    /sys/kernel/uevent_helper unconditionally to not fail on a kernel with
    CONFIG_UEVENT_HELPER unset. (Closes: #756312)
  * Add Breaks: kmod (<< 14) to udev to make sure we have a kmod version
    supporting the static-nodes command.
  * Add Breaks: systemd (<< 208) to udev to avoid partial upgrades. Newer udev
    versions rely on kmod-static-nodes.service being provided by systemd.
    (Closes: #757777)
  * Updated upstream v208-stable patch series to 53b1b6c.
  * Cherry-pick upstream fix to ignore temporary dpkg files. (Closes: #757302)
  * Make emergency.service conflict with rescue.service.
    Otherwise if rescue mode is selected during boot and the emergency mode
    is triggered (e.g. via a broken fstab entry), we have two sulogin
    processes fighting over the tty. (Closes: #757072)
  * Stop syslog.socket when entering emergency mode as otherwise every log
    message triggers the start of the syslog service and its dependencies
    which conflicts with emergency.target. (Closes: #755581)

 -- Michael Biebl <biebl@debian.org>  Thu, 21 Aug 2014 00:14:21 +0200

systemd (208-7) unstable; urgency=medium

  [ Michael Biebl ]
  * Mask remaining services provided by the initscripts package and document
    in more detail why certain services have been masked. (Closes: #659264)
  * Install zsh completions to the correct place. (Closes: #717540)

  [ Jon Severinsson ]
  * Cherry-pick upstream fix for journal file permissions. (Closes: #755062)
  * Map some rcS.d init script dependencies to their systemd equivalent.
  * Update Depends on initscripts to the version with a systemd-compatible
    mountnfs ifup hook. (Closes: #746358)
  * Add Breaks on lvm2 versions without native systemd support.
    (Closes: #678438, #692120)
  * Do not fail udev upgrades if the udev service is already runtime-masked
    when the preinst script is run. (Closes: #755746)
  * Add Pre-Depends on systemd to systemd-sysv, to avoid risking that the
    sysv-compatible symlinks become dangling on a partial install.
  * Ensure that systemctl is usable right after being unpacked, by adding the
    required Pre-Depends to systemd and libsystemd-daemon0. (Closes: #753589)
  * Add support for TuxOnIce hibernation. (Closes: #746463)

  [ Martin Pitt ]
  * Rename "api" autopkgtest to "build-login", and stop requiring that
    sd_login_monitor_new() succeeds. It doesn't in many environments like
    schroot or after upgrades from < 204, and the main point of the test is
    to check that libsystemd-login-dev has correct contents and dependencies.
    Drop "isolation-machine" requirement.
  * Use glibc's xattr support instead of requiring libattr. Fixes FTBFS with
    latest glibc and libattr. Cherrypicked from trunk. Drop libattr1-dev build
    dependency. (Closes: #756097)
  * Build python3-systemd for Python 3 bindings. Drop python-systemd; it does
    not have any reverse dependencies, and we want to encourage moving to
    Python 3. (LP: #1258089)
  * Add simple autopkgtest for python3-systemd.
  * Add dbus dependency to libpam-systemd. (Closes: #755968)
  * Fix /dev/cdrom symlink to appear for all types of drives, not just for
    pure CD-ROM ones. Also, fix the symlinks to stay after change events.
    (LP: #1323777)
  * 75-persistent-net-generator.rules: Adjust Ravello interfaces; they don't
    violate the assignment schema, they should just not be persistent.
    Thanks to Boris Figovsky. (Closes: #747475, LP: #1317776)
  * Reinstate patches to make logind D-BUS activatable.
  * Re-add systemd-shim alternative dependency to libpam-systemd. Version it
    to ensure cgmanager support. (Closes: #754984, LP: #1343802)
  * Convert udev-finish.upstart from a task to a job, to avoid hangs with
    startpar. (Closes: #756631)
  * Add debian/extra/60-keyboard.hwdb: Latest keymaps from upstream git.
    This makes it trivial to backport keymap fixes to stable releases.
    (Closes: #657809; LP: #1322770, #1339998)
  * udev.init: Create static device nodes, as this moved out of udevd.
    Thanks to Michael Biebl for the script! (Closes: #749021)

 -- Martin Pitt <mpitt@debian.org>  Wed, 06 Aug 2014 13:33:22 +0200

systemd (208-6) unstable; urgency=medium

  [ Jon Severinsson ]
  * Add v208-stable patch series.
    - Update Debian patches to apply on top of v208-stable.
    - Move new manpages to libsystemd-*-dev as appropriate.

  [ Michael Biebl ]
  * Upload to unstable.

 -- Michael Biebl <biebl@debian.org>  Wed, 16 Jul 2014 00:44:15 +0200

systemd (208-5) experimental; urgency=medium

  * Merge changes from unstable branch.

 -- Michael Biebl <biebl@debian.org>  Sat, 28 Jun 2014 13:41:32 +0200

systemd (208-4) experimental; urgency=medium

  * Merge changes from unstable branch.
  * Drop alternative dependency on systemd-shim in libpam-systemd. The
    systemd-shim package no longer provides an environment to run
    systemd-logind standalone. See #752939 for further details.

 -- Michael Biebl <biebl@debian.org>  Sat, 28 Jun 2014 01:22:11 +0200

systemd (208-3) experimental; urgency=medium

  * Merge changes from unstable branch.

 -- Michael Biebl <biebl@debian.org>  Wed, 25 Jun 2014 11:29:07 +0200

systemd (208-2) experimental; urgency=medium

  [ Sjoerd Simons ]
  * Don't stop a running user manager from garbage collecting the users. Fixes
    long shutdown times when using a systemd user session

  [ Michael Stapelberg ]
  * Fix bug-script: ‚Äúsystemctl dump‚Äù is now ‚Äúsystemd-analyze dump‚Äù
    (Closes: #748311)

  [ Michael Biebl ]
  * Merge changes from unstable branch.
  * Cherry-pick upstream fixes to make sd_session_get_vt() actually work.

 -- Michael Biebl <biebl@debian.org>  Tue, 24 Jun 2014 17:45:26 +0200

systemd (208-1) experimental; urgency=medium

  [ Michael Biebl ]
  * New upstream release. (Closes: #729566)
  * Update patches.
  * Update symbols files for libsystemd-journal and libsystemd-login.
  * Install new files and remove the ones we don't use.
  * Install zsh completion files. (Closes: #717540)
  * Create a compat symlink /etc/sysctl.d/99-sysctl.conf as systemd-sysctl no
    longer reads /etc/sysctl.conf.
  * Bump Build-Depends on kmod to (>= 14).
  * Bump Build-Depends on libcryptsetup-dev to (>= 2:1.6.0) for tcrypt
    support.
  * Make kmod-static-nodes.service check for the kmod binary since we don't
    want a hard dependency on kmod e.g. for container installations.
  * Disable various features which aren't required for the udeb build.
  * Move new sd_pid_get_slice and sd_session_get_vt man pages into
    libsystemd-login-dev.
  * Make no-patch-numbers the default for gbp-pq.
  * Adjust systemd-user pam config file for Debian.
    This pam config file is used by libpam-systemd/systemd-logind when
    launching systemd user instances.
  * Drop patches to make logind D-Bus activatable. The cgroup handling has
    been reworked in v205 and logind no longer creates cgroup hierarchies on
    its own. That means that the standalone logind is no longer functional
    without support from systemd (or an equivalent cgroup manager).

  [ Martin Pitt ]
  * Explain patch management in debian/README.source.

 -- Michael Biebl <biebl@debian.org>  Mon, 28 Apr 2014 00:22:57 +0200

systemd (204-14) unstable; urgency=medium

  * Fix SIGABRT in insserv generator caused by incorrect usage of strcat().
    (Closes: #752992)
  * Mark -dev packages as Multi-Arch: same. (Closes: #720017)

 -- Michael Biebl <biebl@debian.org>  Sat, 28 Jun 2014 13:22:43 +0200

systemd (204-13) unstable; urgency=medium

  * Switch back to load the sg module via the kmod builtin. The problem was
    not that the kmod builtin is faster then modprobe but rather the incorrect
    usage of the "=" assignment operator. We need to use "+=" here, so the sg
    module is loaded in addition to other scsi modules, which are loaded via
    the modalias rule. Thanks to Tommaso Colombo for the analysis.
  * Cherry-pick upstream fix which prevents systemd from entering an infinite
    loop when trying to break an ordering cycle. (Closes: #752259)
  * Update insserv generator to not create any drop-in files for services
    where the corresponding SysV init script does not exist.
  * Drop the check for /sys/kernel/uevent_helper from postinst and the SysV
    init script and do not unconditionally overwrite it in the initramfs hook.
    Since a long time now udev has been using the netlink interface to
    communicate with the kernel and with Linux 3.16 it is possible to disable
    CONFIG_UEVENT_HELPER completely. (Closes: #752742)

 -- Michael Biebl <biebl@debian.org>  Sat, 28 Jun 2014 00:01:16 +0200

systemd (204-12) unstable; urgency=medium

  [ Martin Pitt ]
  * Change the sg loading rule (for Debian #657948) back to using modprobe.
    kmod is too fast and then sg races with sd, causing the latter to not see
    SCSI disks.  (Closes: #752591, #752605)

  [ Michael Biebl ]
  * Update udev bug-script to attach instead of paste extra info if a new
    enough reportbug version is available.

 -- Michael Biebl <biebl@debian.org>  Wed, 25 Jun 2014 10:55:12 +0200

systemd (204-11) unstable; urgency=medium

  [ Martin Pitt ]
  * Explain patch management in debian/README.source. (Closes: #739113)
  * Replace "Always probe cpu support drivers" patch with cherry-picked
    upstream fix which is more general.
  * Advertise hibernation only if there's enough free swap. Patches backported
    from current upstream. (LP: #1313522)
  * Fix typo in sg loading rule to make it actually work.

  [ Michael Biebl ]
  * Make no-patch-numbers the default for gbp-pq.
  * Cherry-pick upstream fix to properly handle multiline syslog messages.
    (Closes: #746351)
  * Cherry-pick upstream fix for libudev which fixes a memleak in
    parent_add_child().
  * Drop "-b debian" from Vcs-Git since we use the master branch for
    packaging now.
  * Drop Conflicts: sysvinit (<< 2.88dsf-44~) from systemd-sysv since this
    breaks dist-upgrades from wheezy when switching from sysvinit to
    systemd-sysv as default init. While downgrading the Pre-Depends in
    sysvinit would have been an alternative, dropping the Conflicts and only
    keeping the Replaces was deemed the lesser evil. (Closes: #748355)
  * Use Conflicts instead of Breaks against sysvinit-core. This avoids
    /sbin/init going missing when switching from systemd-sysv to sysvinit.
    While at it, add a Replaces: upstart. (Closes: #751589)
  * Make the SysV compat tools try both /run/initctl and /dev/initctl. This
    makes them usable under sysvinit as PID 1 without requiring any symlinks.
  * Various ifupdown integration fixes
    - Use DefaultDependencies=no in ifup@.service so the service can be
      started as early as possible.
    - Create the ifupdown runtime directory in ifup@.service as we can no
      longer rely on the networking service to do that for us.
    - Don't stop ifup@.service on shutdown but let the networking service take
      care of stopping all hotplugged interfaces.
    - Only start ifup@.service for interfaces configured as allow-hotplug.

  [ Michael Stapelberg ]
  * Clarify that ‚Äúsystemd‚Äù does not influence init whereas ‚Äúsystemd-sysv‚Äù does
    (Closes: #747741)

  [ Ansgar Burchardt ]
  * Don't use "set +e; set +u" unconditionally in the lsb init-functions hook
    as this might change the behaviour of existing SysV init scripts.
    (Closes: #751472)

 -- Michael Biebl <biebl@debian.org>  Tue, 24 Jun 2014 17:03:43 +0200

systemd (204-10) unstable; urgency=medium

  * In the udeb's udev.startup, make sure that /dev/pts exists.
  * systemd-logind-launch: Set the #files ulimit, for unprivileged LXC
    containers.
  * Drop udev.NEWS, it only applies to pre-squeeze.
  * Remove /var/log/udev on purge.
  * Always probe cpu support drivers. (LP #1207705)
  * On Dell PowerEdge systems, the iDRAC7 and later support a USB Virtual NIC
    for management. Name this interface "idrac" to avoid confusion with "real"
    network interfaces.
  * Drop numerical prefixes from patches, to avoid future diff noise when
    removing, cherry-picking, and merging patches. From now on, always use
    "gbp-pq export --no-patch-numbers" to update them.

 -- Martin Pitt <mpitt@debian.org>  Sun, 27 Apr 2014 11:53:52 +0200

systemd (204-9) unstable; urgency=medium

  * The "Flemish Beef and Beer Stew" release.

  [ Steve Langasek ]
  * Do proper refcounting of the PAM module package on prerm, so that we
    don't drop the module from the PAM config when uninstalling a
    foreign-arch package.  Related to Ubuntu bug #1295521.

  [ Martin Pitt ]
  * debian/udev.udev-finish.upstart: Fix path to tmp-rules,
    debian/extra/rule_generator.functions creates them in /run/udev/.
  * rules: Remove the kernel-install bits; we don't want that in Debian and
    thus it shouldn't appear in dh_install --list-missing output.
  * Ship sd-shutdown.h in libsystemd-daemon-dev.
  * Run dh_install with --fail-missing, to avoid forgetting files when we move
    to new versions.
  * Mount /dev/pts with the correct permissions in the udev, to avoid needing
    pt_chown (not available on all architectures). Thanks Adam Conrad.
  * Add new block of Windows Azure ethernet hardware address to
    75-persistent-net-generator.rules. (LP: #1274348, Closes: #739018)
  * Drop our Debian specific 60-persistent-storage{,-tape}.rules and use the
    upstream rules. They are compatible and do a superset of the
    functionality. (Closes: #645466)
  * Drop our Debian specific 80-drivers.rules and use the upstream rules with
    a patch for the sg module (see #657948). These now stop calling modprobe
    and use the kmod builtin, giving some nice boot speed improvement.
    (Closes: #717404)
  * Drop our Debian specific 50-udev-default.rules and 91-permissions.rules
    and use the upstream rules with a patch for the remaining Debian specific
    default device permissions. Many thanks to Marco d'Itri for researching
    which Debian-specific rules are obsolete! Amongst other things, this now
    also reads the hwdb info for USB devices (Closes: #717405) and gets rid of
    some syntax errors (Closes: #706221)
  * Set default polling interval on removable devices as well, for kernels
    which have "block" built in instead of being a module. (Closes: #713877)
  * Make sd_login_monitor_new() work for logind without systemd.
  * Cherry-pick upstream fix for polkit permissions for rebooting with
    multiple sessions.
  * Kill /etc/udev/links.conf, create_static_nodes, and associated code. It's
    obsolete with devtmpfs (which is required now), and doesn't run with
    systemd or upstart anyway.
  * Drop unnecessary udev.dirs.
  * Add autopkgtests for smoke-testing logind, hostnamed, timedated, localed,
    and a compile/link/run test against libsystemd-login-dev.

  [ Marco d'Itri ]
  * preinst: check for all the system calls required by modern releases
    of udev. (Closes: #648325)
  * Updated fbdev-blacklist.conf for recent kernels.
  * Do not blacklist viafb because it is required on the OLPC XO-1.5.
    (Closes: #705792)
  * Remove write_cd_rules and the associated rules which create "persistent"
    symlinks for CD/DVD devices and replace them with more rules in
    60-cdrom_id, which will create symlinks for one at random among the
    devices installed. Since the common case is having a single device
    then everything will work out just fine most of the times...
    (Closes: #655924)
  * Fix write_net_rules for systemd and sysvinit users by copying the
    temporary rules from /run/udev/ to /etc/udev/. (Closes: #735563)
  * Do not install sysctl.d/50-default.conf because the systemd package
    should not change kernel policies, at least until it will become
    the only supported init system.

  [ Michael Stapelberg ]
  * Add systemd-dbg package, thanks Daniel Schaal (Closes: #742724).
  * Switch from gitpkg to git-buildpackage. Update README.source accordingly.
  * Make libpam-systemd depend on systemd-sysv | systemd-shim. Packages that
    need logind functionality should depend on libpam-systemd.

  [ Michael Biebl ]
  * Do not send potentially private fstab information without prior user
    confirmation. (Closes: #743158)
  * Add support for LSB facilities defined by insserv.
    Parse /etc/insserv.conf.d content and /etc/insserv.conf and generate
    systemd unit drop-in files to add corresponding dependencies. Also ship
    targets for the Debian specific $x-display-manager and
    $mail-transport-agent system facilities. (Closes: #690892)
  * Do not accidentally re-enable /var/tmp cleaning when migrating the TMPTIME
    setting from /etc/default/rcS. Fix up existing broken configurations.
    (Closes: #738862)

 -- Michael Biebl <biebl@debian.org>  Sat, 26 Apr 2014 21:37:29 +0200

systemd (204-8) unstable; urgency=low

  [ Michael Stapelberg ]
  * move manpages from systemd to libsystemd-*-dev as appropriate
    (Closes: #738723)
  * fix systemctl enable/disable/‚Ä¶ error message ‚ÄúFailed to issue method call:
    No such file or directory‚Äù (the previous upload did actually not contain
    this fix due to a merge conflict) (Closes: #738843)
  * add explicit ‚ÄúDepends: sysv-rc‚Äù so that initscript‚Äôs ‚ÄúDepends: sysv-rc |
    file-rc‚Äù will not be satisfied with file-rc. We need the invoke-rc.d and
    update-rc.d from sysv-rc, file-rc‚Äôs doesn‚Äôt have support for systemd.
    (Closes: #739679)
  * set capabilities cap_dac_override,cap_sys_ptrace=ep for
    systemd-detect-virt, so that it works for unprivileged users.
    (Closes: #739699)
  * pam: Check $XDG_RUNTIME_DIR owner (Closes: #731300)
  * Ignore chkconfig headers entirely, they are often broken in Debian
    (Closes: #634472)

  [ Michael Biebl ]
  * do a one-time migration of RAMTMP= from /etc/default/rcS and
    /etc/default/tmpfs, i.e. enable tmp.mount (Closes: #738687)
  * Bump Standards-Version to 3.9.5.

 -- Michael Biebl <biebl@debian.org>  Wed, 19 Mar 2014 18:57:35 +0100

systemd (204-7) unstable; urgency=low

  * fix systemctl enable/disable/‚Ä¶ error message ‚ÄúFailed to issue method call:
    No such file or directory‚Äù (Closes: #734809)
  * bug-script: attach instead of paste extra info with reportbug ‚â• 6.5.0
    (Closes: #722530)
  * add stage1 bootstrap support to avoid Build-Depends cycles (Thanks Daniel
    Schepler)
  * cherry-pick:
    order remote mounts from mountinfo before remote-fs.target (77009452cfd)
    (Closes: #719945)
    Fix CPUShares configuration option (ccd90a976dba) (Closes: #737156)
    fix reference in systemd-inhibit(1) (07b4b9b) (Closes: #738316)

 -- Michael Stapelberg <stapelberg@debian.org>  Tue, 11 Feb 2014 23:34:42 +0100

systemd (204-6) unstable; urgency=low

  [ Michael Stapelberg ]
  * Run update-rc.d defaults before update-rc.d <enable|disable>
    (Closes: #722523)
  * preinst: preserve var-{lock,run}.mount when upgrading from 44 to 204
    (Closes: #723936)
  * fstab-generator: don‚Äôt rely on /usr being mounted in the initrd
    (Closes: #724797)
  * systemctl: mangle names when avoiding dbus (Closes: #723855)
  * allow group adm read access on /var/log/journal (Closes: #717386)
  * add systemd-journal group (Thanks Guido G√ºnther) (Closes: #724668)
  * copy /etc/localtime instead of symlinking (Closes: #726256)
  * don‚Äôt try to start autovt units when not running with systemd as pid 1
    (Closes: #726466)
  * Add breaks/replaces for the new sysvinit-core package (Thanks Alf Gaida)
    (Closes: #733240)
  * Add myself to uploaders

  [ Tollef Fog Heen ]
  * Make 99-systemd.rules check for /run/systemd/systemd instead of the
    ill-named cgroups directory.

  [ Martin Pitt ]
  * debian/udev.upstart: Fix path to udevd, the /sbin/udevd compat symlink
    should go away at some point.
  * debian/udev-udeb.install: Add 64-btrfs.rules and 75-probe_mtd.rules, they
    are potentially useful in a d-i environment.
  * debian/shlibs.local: Drop libudev; this unnecessarily generates overly
    strict dependencies, the libudev ABI is stable.
  * debian/extra/rules/75-persistent-net-generator.rules: Add Ravello systems
    (LP: #1099278)

 -- Michael Stapelberg <stapelberg@debian.org>  Tue, 31 Dec 2013 14:39:44 +0100

systemd (204-5) unstable; urgency=high

  * Cherry-pick 72fd713 from upstream which fixes insecure calling of polkit
    by avoiding a race condition in scraping /proc (CVE-2013-4327).
    Closes: #723713

 -- Michael Biebl <biebl@debian.org>  Mon, 23 Sep 2013 11:59:53 +0200

systemd (204-4) unstable; urgency=low

  * Add preinst check to abort udev upgrade if the currently running kernel
    lacks devtmpfs support. Since udev 176, devtmpfs is mandatory as udev no
    longer creates any device nodes itself. This only affects self-compiled
    kernels which now need CONFIG_DEVTMPFS=y.  Closes: #722580
  * Fix SysV init script to correctly mount a devtmpfs instead of tmpfs. This
    only affects users without an initramfs, which usually is responsible for
    mounting the devtmpfs.  Closes: #722604
  * Drop pre-squeeze upgrade code from maintainer scripts and simplify the
    various upgrade checks.
  * Suppress errors about unknown hwdb builtin. udev 196 introduced a new
    "hwdb" builtin which is not understood by the old udev daemon.
  * Add missing udeb line to shlibs.local. This ensures that udev-udeb gets a
    proper dependency on libudev1-udeb and not libudev1.  Closes: #722939
  * Remove udev-udeb dependency from libudev1-udeb to avoid a circular
    dependency between the two packages. This dependency was copied over from
    the old udev-gtk-udeb package and no longer makes any sense since
    libudev1-udeb only contains a library nowadays.

 -- Michael Biebl <biebl@debian.org>  Wed, 18 Sep 2013 00:05:21 +0200

systemd (204-3) unstable; urgency=low

  [ Michael Biebl ]
  * Upload to unstable.
  * Use /bin/bash in debug-shell.service as Debian doesn't have /sbin/sushell.
  * Only import net.ifaces cmdline property for network devices.
  * Generate strict dependencies between the binary packages using a
    shlibs.local file and add an explicit versioned dependency on
    libsystemd-login0 to systemd to ensure packages are upgraded in sync.
    Closes: #719444
  * Drop obsolete Replaces: libudev0 from udev package.
  * Use correct paths for various binaries, like /sbin/quotaon, which are
    installed in / and not /usr in Debian.  Closes: #721347
  * Don't install kernel-install(8) man page since we don't install the
    corresponding binary either.  Closes: #722180
  * Cherry-pick upstream fixes to make switching runlevels and starting
    reboot via ctrl-alt-del more robust.
  * Cherry-pick upstream fix to properly apply ACLs to Journal files.
    Closes: #717863

  [ Michael Stapelberg ]
  * Make systemctl enable|disable call update-rc.d for SysV init scripts.
    Closes: #709780
  * Don't mount /tmp as tmpfs by default and make it possible to enable this
    feature via "systemctl enable tmp.mount".  Closes: #718906

  [ Daniel Schaal ]
  * Add bug-script to systemd and udev.  Closes: #711245

  [ Ondrej Balaz ]
  * Recognize discard option in /etc/crypttab.  Closes: #719167

 -- Michael Biebl <biebl@debian.org>  Thu, 12 Sep 2013 00:13:11 +0200

systemd (204-2) experimental; urgency=low

  [ Daniel Schaal ]
  * Enable verbose build logs.  Closes: #717465
  * Add handling of Message Catalog files to provide additional information
    for log entries.  Closes: #717427
  * Remove leftover symlink to debian-enable-units.service.  Closes: #717349

  [ Michael Stapelberg ]
  * Install 50-firmware.rules in the initramfs and udeb.  Closes: #717635

  [ Michael Biebl ]
  * Don't pass static start priorities to dh_installinit anymore.
  * Switch the hwdb trigger to interest-noawait.
  * Remove obsolete support for configurable udev root from initramfs.
  * Bind ifup@.service to the network device. This ensures that ifdown is run
    when the device is removed and the service is stopped.
    Closes: #660861, #703033
  * Bump Standards-Version to 3.9.4. No further changes.
  * Add Breaks against consolekit (<< 0.4.6-1) for udev-acl.  Closes: #717385
  * Make all packages Priority: optional, with the exception of udev and
    libudev1, which remain Priority: important, and systemd-sysv, which
    remains Priority: extra due to the conflict with sysvinit.
    Closes: #717365
  * Restart systemd-logind.service on upgrades due to changes in the
    CreateSession D-Bus API between v44 and v204.  Closes: #717403

 -- Michael Biebl <biebl@debian.org>  Wed, 24 Jul 2013 23:47:59 +0200

systemd (204-1) experimental; urgency=low

  * New upstream release.  Closes: #675175, #675177
    - In v183 the udev sources have been merged into the systemd source tree.
      As a result, the udev binary packages will now be built from the systemd
      source package. To align the version numbers 139 releases were skipped.
    - For a complete list of changes, please refer to the NEWS file.
  * Add Marco to Uploaders.
  * Drop Suggests on the various python packages from systemd. The
    systemd-analyze tool has been reimplemented in C.
  * Add binary packages as found in the udev 175-7.2 source package.
  * Wrap dependencies for better readability.
  * Drop hard-coded Depends on libglib2.0-0 from gir1.2-gudev-1.0.
  * Drop old Conflicts, Replaces and Breaks, which are no longer necessary.
  * Make libgudev-1.0-dev depend on gir1.2-gudev-1.0 as per GObject
    introspection mini-policy.  Closes: #691313
  * The hwdb builtin has replaced pci-db and usb-db in udev. Drop the
    Recommends on pciutils and usbutils accordingly.
  * Drop our faketime hack. Upstream uses a custom xsl style sheet now to
    generate the man pages which no longer embeds the build date.
  * Add Depends on libpam-runtime (>= 1.0.1-6) to libpam-systemd as we are
    using pam-auth-update.
  * Explicitly set Section and Priority for the udev binary package.
  * Update Build-Depends:
    - Drop libudev-dev, no longer required.
    - Add gtk-doc-tools and libglib2.0-doc for the API documentation in
      libudev and libgudev.
    - Add libgirepository1.0-dev and gobject-introspection for GObject
      introspection support in libgudev.
    - Add libgcrypt11-dev for encryption support in the journal.
    - Add libblkid-dev for the blkid udev builtin.
  * Use gir dh addon to ensure ${gir:Depends} is properly set.
  * Rename libudev0 ‚Üí libudev1 for the SONAME bump.
  * Update symbols files. libudev now uses symbols versioning as the other
    libsystemd libraries. The libgudev-1.0-0 symbols file has been copied from
    the old udev package.
  * Run gtkdocize on autoreconf.
  * Enable python bindings for the systemd libraries and ship them in a new
    package named python-systemd.
  * Tighten Depends on libsystemd-id128-dev for libsystemd-journal-dev as per
    libsystemd-journal.pc.
  * Remove obsolete bash-completion scripts on upgrades. Nowadays they are
    installed in /usr/share/bash-completion/completions.
  * Rename conffiles for logind and journald.
  * Rename udev-gtk-udeb ‚Üí libudev1-udeb to better reflect its actual contents.
  * Build two flavours: a regular build and one for the udev udebs with
    reduced features/dependencies.
  * Create a few compat symlinks for the udev package, most notably
    /sbin/udevadm and /sbin/udevd.
  * Remove the dpkg-triggered debian-enable-units script. This was a temporary
    workaround for wheezy. Packages should use dh-systemd now to properly
    integrate service files with systemd.
  * Update debian/copyright using the machine-readable copyright format 1.0.
  * Integrate changes from udev 175-7 and acknowledge the 175-7.1 and 175-7.2
    non-maintainer uploads.
  * Keep the old persistent network interface naming scheme for now and make
    the new one opt-in via net.ifnames=1 on the kernel command line.
  * Drop the obsolete udev-mtab SysV init script and properly clean up on
    upgrades.
  * Simplify the udev SysV init script and remove experimental and obsolete
    features.
  * Revert upstream commits which dropped support for distro specific
    features and config files.
  * Make logind, hostnamed, localed and timedated D-Bus activatable and
    usable when systemd is not running.
  * Store hwdb binary database in /lib/udev, not /etc/udev. Create the file on
    install and upgrades.
  * Provide a dpkg file trigger for hwdb, so the database is automatically
    updated when packages install files into /lib/udev/hwdb.d.

 -- Michael Biebl <biebl@debian.org>  Fri, 19 Jul 2013 00:32:36 +0200

systemd (44-12) unstable; urgency=low

  * Cherry-pick e17187 from upstream to fix build failures with newer glibc
    where the clock_* symbols have been moved from librt to libc.
    Closes: #701364
  * If the new init-system-helpers package is installed, make the
    debian-enable-units script a no-op. The auto-enabler was meant as a
    temporary workaround and will be removed once all packages use the new
    helper.
  * Update the checks which test if systemd is the active init. The
    recommended check is [ -d /run/systemd/system ] as this will also work
    with a standalone systemd-logind.
  * Set Maintainer to pkg-systemd-maintainers@lists.alioth.debian.org. Add
    Tollef and myself as Uploaders.
  * Stop building the GUI bits. They have been split into a separate source
    package called systemd-ui.

 -- Michael Biebl <biebl@debian.org>  Thu, 20 Jun 2013 01:32:16 +0200

systemd (44-11) unstable; urgency=low

  * Team upload.
  * Run debian-enable-units.service after sysinit.target to ensure our tmp
    files aren't nuked by systemd-tmpfiles.
  * The mountoverflowtmp SysV init script no longer exists so remove that
    from remount-rootfs.service to avoid an unnecessary diff to upstream.
  * Do not fail on purge if /var/lib/systemd is empty and has been removed
    by dpkg.

 -- Michael Biebl <biebl@debian.org>  Wed, 13 Mar 2013 08:03:06 +0100

systemd (44-10) unstable; urgency=low

  * Team upload.
  * Using the return code of "systemctl is-enabled" to determine whether we
    enable a service or not is unreliable since it also returns a non-zero
    exit code for masked services. As we don't want to enable masked services,
    grep for the string "disabled" instead.

 -- Michael Biebl <biebl@debian.org>  Fri, 15 Feb 2013 17:01:24 +0100

systemd (44-9) unstable; urgency=low

  * Team upload.
  * Fix typo in systemd.socket man page.  Closes: #700038
  * Use color specification in "systemctl dot" which is actually
    understood by dot.  Closes: #643689
  * Fix mounting of remote filesystems like NFS.  Closes: #673309
  * Use a file trigger to automatically enable service and socket units. A lot
    of packages simply install systemd units but do not enable them. As a
    result they will be inactive after the next boot. This is a workaround for
    wheezy which will be removed again in jessie.  Closes: #692150

 -- Michael Biebl <biebl@debian.org>  Fri, 15 Feb 2013 13:35:39 +0100

systemd (44-8) unstable; urgency=low

  * Team upload.
  * Use comment=systemd.* syntax in systemd.mount man page. The
    mount/util-linux version in wheezy is not recent enough to support the new
    x-systemd* syntax. Closes: #697141
  * Don't enable persistent storage of journal log files. The journal in v44
    is not yet mature enough.

 -- Michael Biebl <biebl@debian.org>  Sat, 19 Jan 2013 20:05:05 +0100

systemd (44-7) unstable; urgency=low

  * Fix a regression in the init-functions hook wrt reload handling that was
    introduced when dropping the X-Interactive hack.  Closes: #696355

 -- Michael Biebl <biebl@debian.org>  Fri, 21 Dec 2012 00:00:12 +0100

systemd (44-6) unstable; urgency=low

  [ Michael Biebl ]
  * No longer ship the /sys directory in the systemd package since it is
    provided by base-files nowadays.
  * Don't run udev rules if systemd is not active.
  * Converting /var/run, /var/lock and /etc/mtab to symlinks is a one-time
    migration so don't run the debian-fixup script on every boot.

  [ Tollef Fog Heen ]
  * Prevent the systemd package from being removed if it's the active init
    system, since that doesn't work.

  [ Michael Biebl ]
  * Use a separate tmpfs for /run/lock (size 5M) and /run/user (size 100M).
    Those directories are user-writable which could lead to DoS by filling up
    /run.  Closes: #635131

 -- Michael Biebl <biebl@debian.org>  Sun, 16 Dec 2012 21:58:37 +0100

systemd (44-5) unstable; urgency=low

  * Team upload.

  [ Tollef Fog Heen ]
  * disable killing on entering START_PRE, START, thanks to Michael
    Stapelberg for patch.  This avoids killing VMs run through libvirt
    when restarting libvirtd.  Closes: #688635.
  * Avoid reloading services when shutting down, since that won't work and
    makes no sense.  Thanks to Michael Stapelberg for the patch.
    Closes: #635777.
  * Try to determine which init scripts support the reload action
    heuristically.  Closes: #686115, #650382.

  [ Michael Biebl ]
  * Update Vcs-* fields, the Git repository is hosted on alioth now. Set the
    default branch to "debian".
  * Avoid reload and (re)start requests during early boot which can lead to
    deadlocks.  Closes: #624599
  * Make systemd-cgroup work even if not all cgroup mounts are available on
    startup.  Closes: #690916
  * Fix typos in the systemd.path and systemd.unit man page.  Closes: #668344
  * Add watch file to track new upstream releases.

 -- Michael Biebl <biebl@debian.org>  Thu, 25 Oct 2012 21:41:23 +0200

systemd (44-4) unstable; urgency=low

  [ Michael Biebl ]
  * Override timestamp for man page building, thereby avoiding skew
    between architectures which caused problems for multi-arch.
    Closes: #680011

  [ Tollef Fog Heen ]
  * Move diversion removal from postinst to preinst.  Closes: #679728
  * Prevent the journal from crashing when running out of disk space.
    This is 499fb21 from upstream.  Closes: #668047.
  * Stop mounting a tmpfs on /media.  Closes: #665943

 -- Tollef Fog Heen <tfheen@debian.org>  Sun, 01 Jul 2012 08:17:50 +0200

systemd (44-3) unstable; urgency=low

  [ Michael Biebl ]
  * Bump to debhelper 9.
  * Convert to Multi-Arch: same where possible.  Closes: #676615

  [ Tollef Fog Heen ]
  * Cherry-pick d384c7 from upstream to stop journald from leaking
    memory.  Thanks to Andreas Henriksson for testing.  Closes: #677701
  * Ship lsb init script override/integration in /lib/lsb/init-functions.d
    rather than diverting /lib/lsb/init-functions itself.  Add appropriate
    Breaks to ensure upgrades happen.

 -- Tollef Fog Heen <tfheen@debian.org>  Fri, 29 Jun 2012 22:34:16 +0200

systemd (44-2) unstable; urgency=low

  [ Michael Biebl ]
  * Tighten the versions in the maintscript file
  * Ship the /sys directory in the package
  * Re-add workaround for non-interactive PAM sessions
  * Mask checkroot-bootclean (Closes: #670591)
  * Don't ignore errores in systemd-sysv postinst

  [ Tollef Fog Heen ]
  * Bring tmpfiles.d/tmp.conf in line with Debian defaults.  Closes: #675422
  * Make sure /run/sensigs.omit.d exists.
  * Add python-dbus and python-cairo to Suggests, for systemd-analyze.
    Closes: #672965

 -- Tollef Fog Heen <tfheen@debian.org>  Tue, 08 May 2012 18:04:22 +0200

systemd (44-1) unstable; urgency=low

  [ Tollef Fog Heen ]
  * New upstream version.
    - Backport 3492207: journal: PAGE_SIZE is not known on ppc and other
      archs
    - Backport 5a2a2a1: journal: react with immediate rotation to a couple
      of more errors
    - Backport 693ce21: util: never follow symlinks in rm_rf_children()
      Fixes CVE-2012-1174, closes: #664364
  * Drop output message from init-functions hook, it's pointless.
  * Only rmdir /lib/init/rw if it exists.
  * Explicitly order debian-fixup before sysinit.target to prevent a
    possible race condition with the creation of sockets.  Thanks to
    Michael Biebl for debugging this.
  * Always restart the initctl socket on upgrades, to mask sysvinit
    removing it.

  [ Michael Biebl ]
  * Remove workaround for non-interactive sessions from pam config again.
  * Create compat /dev/initctl symlink in case we are upgrading from a system
    running a newer version of sysvinit (using /run/initctl) and sysvinit is
    replaced with systemd-sysv during the upgrade. Closes: #663219
  * Install new man pages.
  * Build-Depend on valac (>= 0.12) instead of valac-0.12. Closes: #663323

 -- Tollef Fog Heen <tfheen@debian.org>  Tue, 03 Apr 2012 19:59:17 +0200

systemd (43-1) experimental; urgency=low

  [ Tollef Fog Heen ]
  * Target upload at experimental due to libkmod dependency
  * New upstream release
    - Update bash-completion for new verbs and arguments. Closes: #650739
    - Fixes local DoS (CVE-2012-1101).  Closes: #662029
    - No longer complains if the kernel lacks audit support.  Closes: #642503
  * Fix up git-to-source package conversion script which makes gitpkg
    happier.
  * Add libkmod-dev to build-depends
  * Add symlink from /bin/systemd to /lib/systemd/systemd.
  * Add --with-distro=debian to configure flags, due to no /etc/os-release
    yet.
  * Add new symbols for libsystemd-login0 to symbols file.
  * Install a tmpfiles.d file for the /dev/initctl ‚Üí /run/initctl
    migration.  Closes: #657979
  * Disable coredump handling, it's not ready yet.
  * If /run is a symlink, don't try to do the /var/run ‚Üí /run migration.
    Ditto for /var/lock ‚Üí /run/lock.  Closes: #647495

  [ Michael Biebl ]
  * Add Build-Depends on liblzma-dev for journal log compression.
  * Add Build-Depends on libgee-dev, required to build systemadm.
  * Bump Standards-Version to 3.9.2. No further changes.
  * Add versioned Build-Depends on automake and autoconf to ensure we have
    recent enough versions. Closes: #657284
  * Add packages for libsystemd-journal and libsystemd-id128.
  * Update symbols file for libsystemd-login.
  * Update configure flags, use rootprefix instead of rootdir.
  * Copy intltool files instead of symlinking them.
  * Re-indent init-functions script.
  * Remove workarounds for services using X-Interactive. The LSB X-Interactive
    support turned out to be broken and has been removed upstream so we no
    longer need any special handling for those type of services.
  * Install new systemd-journalctl, systemd-cat and systemd-cgtop binaries.
  * Install /var/lib/systemd directory.
  * Install /var/log/journal directory where the journal files are stored
    persistently.
  * Setup systemd-journald to not read from /proc/kmsg (ImportKernel=no).
  * Avoid error messages from systemctl in postinst if systemd is not running
    by checking for /sys/fs/cgroup/systemd before executing systemctl.
    Closes: #642749
  * Stop installing lib-init-rw (auto)mount units and try to cleanup
    /lib/init/rw in postinst. Bump dependency on initscripts accordingly.
    Closes: #643699
  * Disable pam_systemd for non-interactive sessions to work around an issue
    with sudo.
  * Use new dh_installdeb maintscript facility to handle obsolete conffiles.
    Bump Build-Depends on debhelper accordingly.
  * Rename bash completion file systemctl-bash-completion.sh ‚Üí
    systemd-bash-completion.sh.
  * Update /sbin/init symlink. The systemd binary was moved to $pkglibdir.

 -- Tollef Fog Heen <tfheen@debian.org>  Tue, 07 Feb 2012 21:36:34 +0100

systemd (37-1.1) unstable; urgency=low

  * Non-maintainer upload with Tollef's consent.
  * Remove --parallel to workaround a bug in automake 1.11.3 which doesn't
    generate parallel-safe build rules. Closes: #661842
  * Create a compat symlink /run/initctl ‚Üí /dev/initctl to work with newer
    versions of sysvinit. Closes: #657979

 -- Michael Biebl <biebl@debian.org>  Sat, 03 Mar 2012 17:42:10 +0100

systemd (37-1) unstable; urgency=low

  [ Tollef Fog Heen ]
  * New upstream version
  * Change the type of the debian-fixup service to oneshot.
    Closes: #642961
  * Add ConditionPathIsDirectory to lib-init-rw.automount and
    lib-init-rw.mount so we only activate the unit if the directory
    exists.  Closes: #633059
  * If a sysv service exists in both rcS and rcN.d runlevels, drop the
    rcN.d ones to avoid loops.  Closes: #637037
  * Blacklist fuse init script, we do the same work already internally.
    Closes: #643700
  * Update README.Debian slightly for /run rather than /lib/init/rw

  [ Josh Triplett ]
  * Do a one-time migration of the $TMPTIME setting from /etc/default/rcS to
    /etc/tmpfiles.d/tmp.conf. If /etc/default/rcS has a TMPTIME setting of
    "infinite" or equivalent, migrate it to an /etc/tmpfiles.d/tmp.conf that
    overrides the default /usr/lib/tmpfiles.d/tmp.conf and avoids clearing
    /tmp.  Closes: #643698

 -- Tollef Fog Heen <tfheen@debian.org>  Wed, 28 Sep 2011 20:04:13 +0200

systemd (36-1) unstable; urgency=low

  [ Tollef Fog Heen ]
  * New upstream release. Closes: #634618
    - Various man page fixes. Closes: #623521
  * Add debian-fixup service that symlinks mtab to /proc/mounts and
    migrates /var/run and /var/lock to symlinks to /run

  [ Michael Biebl ]
  * Build for libnotify 0.7.
  * Bump Build-Depends on libudev to (>= 172).
  * Add Build-Depends on libacl1-dev. Required for building systemd-logind
    with ACL support.
  * Split libsystemd-login and libsystemd-daemon into separate binary
    packages.
  * As autoreconf doesn't like intltool, override dh_autoreconf and call
    intltoolize and autoreconf ourselves.
  * Add Build-Depends on intltool.
  * Do a one-time migration of the hwclock configuration. If UTC is set to
    "no" in /etc/default/rcS, create /etc/adjtime and add the "LOCAL" setting.
  * Remove /cgroup cleanup code from postinst.
  * Add Build-Depends on gperf.

 -- Tollef Fog Heen <tfheen@debian.org>  Wed, 14 Sep 2011 08:25:17 +0200

systemd (29-1) unstable; urgency=low

  [ Tollef Fog Heen ]
  * New upstream version, Closes: #630510
    - Includes typo fixes in documentation.  Closes: #623520
  * Fall back to the init script reload function if a native .service file
    doesn't know how to reload.  Closes: #628186
  * Add hard dependency on udev.  Closes: #627921

  [ Michael Biebl ]
  * hwclock-load.service is no longer installed, so we don't need to remove it
    anymore in debian/rules.
  * Install /usr/lib directory for binfmt.d, modules-load.d, tmpfiles.d and
    sysctl.d.
  * Remove obsolete conffiles from /etc/tmpfiles.d on upgrades. Those files
    are installed in /usr/lib/tmpfiles.d now.
  * Depend on util-linux (>= 2.19.1-2) which provides whole-disk locking
    support in fsck and remove our revert patch.
  * Don't choke when systemd was compiled with a different CAP_LAST_CAP then
    what it is run with. Patch cherry-picked from upstream Git.
    Closes: #628081
  * Enable dev-hugepages.automount and dev-mqueue.automount only when enabled
    in kernel. Patch cherry-picked from upstream Git.  Closes: #624522

 -- Tollef Fog Heen <tfheen@debian.org>  Wed, 08 Jun 2011 16:14:31 +0200

systemd (25-2) experimental; urgency=low

  * Handle downgrades more gracefully by removing diversion of
    /lib/lsb/init-functions on downgrades to << 25-1.
  * Cherry-pick a133bf10d09f788079b82f63faa7058a27ba310b from upstream,
    avoids assert when dumping properties.  Closes: #624094
  * Remove "local" in non-function context in init-functions wrapper.

 -- Tollef Fog Heen <tfheen@debian.org>  Wed, 27 Apr 2011 22:20:04 +0200

systemd (25-1) experimental; urgency=low

  * New upstream release, target experimental due to initscripts
    dependency.
    - Fixes where to look for locale config.  Closes: #619166
  * Depend on initscripts >= 2.88dsf-13.4 for /run transition.
  * Add Conflicts on klogd, since it doesn't work correctly with the
    kmg‚Üí/dev/log bridge.  Closes: #622555
  * Add suggests on Python for systemd-analyze.
  * Divert /lib/lsb/init-functions instead of (ab)using
    /etc/lsb-base-logging.sh for diverting calls to /etc/init.d/*
  * Remove obsolete conffile /etc/lsb-base-logging.sh.  Closes: #619093
  * Backport 3a90ae048233021833ae828c1fc6bf0eeab46197 from master:
    mkdir /run/systemd/system when starting up

 -- Tollef Fog Heen <tfheen@debian.org>  Sun, 24 Apr 2011 09:02:04 +0200

systemd (20-1) unstable; urgency=low

  * New upstream version
  * Install systemd-machine-id-setup
  * Call systemd-machine-id-setup in postinst
  * Cherry-pick b8a021c9e276adc9bed5ebfa39c3cab0077113c6 from upstream to
    prevent dbus assert error.
  * Enable TCP wrapper support.  Closes: #618409
  * Enable SELinux support.  Closes: #618412
  * Make getty start after Apache2 and OpenVPN (which are the only two
    known users of X-Interactive: yes).  Closes: #618419

 -- Tollef Fog Heen <tfheen@debian.org>  Fri, 11 Mar 2011 19:14:21 +0100

systemd (19-1) experimental; urgency=low

  * New upstream release
  * Add systemd-tmpfiles to systemd package.
  * Add ifup@.service for handling hotplugged interfaces from
    udev.  Closes: #610871
  * Mask mtab.service and udev-mtab.service as they are pointless when
    /etc/mtab is a symlink to /proc/mounts
  * Add breaks on lvm2 (<< 2.02.84-1) since older versions have udev rules
    that don't work well with systemd causing delays on bootup.

 -- Tollef Fog Heen <tfheen@debian.org>  Thu, 17 Feb 2011 07:36:22 +0100

systemd (17-1) experimental; urgency=low

  [ Tollef Fog Heen ]
  * New upstream release
  * Clarify ifupdown instructions in README.Debian somewhat.
    Closes: #613320
  * Silently skip masked services in lsb-base-logging.sh instead of
    failing.  Initial implementation by Michael Biebl.  Closes: #612551
  * Disable systemd-vconsole-setup.service for now.

  [ Michael Biebl ]
  * Bump build dependency on valac-0.10 to (>= 0.10.3).
  * Improve regex in lsb-base-logging.sh for X-Interactive scripts.
    Closes: #613325

 -- Tollef Fog Heen <tfheen@debian.org>  Wed, 16 Feb 2011 21:06:16 +0100

systemd (16-1) experimental; urgency=low

  [ Tollef Fog Heen ]
  * New upstream release.  Closes: #609611
  * Get rid of now obsolete patches that are upstream.
  * Use the built-in cryptsetup support in systemd, build-depend on
    libcryptsetup-dev (>= 2:1.2.0-1) to get a libcryptsetup in /lib.
  * Don't use systemctl redirect for init scripts with X-Interactive: true

  [ Michael Biebl ]
  * Update package description
  * Use v8 debhelper syntax
  * Make single-user mode work
  * Run hwclock-save.service on shutdown
  * Remove dependencies on legacy sysv mount scripts, as we use native
    mounting.

 -- Tollef Fog Heen <tfheen@debian.org>  Sun, 16 Jan 2011 11:04:13 +0100

systemd (15-1) UNRELEASED; urgency=low

  [ Tollef Fog Heen ]
  * New upstream version, thanks a lot to Michael Biebl for help with
    preparing this version.
    - This version handles cycle breaking better.  Closes: #609225
  * Add libaudit-dev to build-depends
  * /usr/share/systemd/session has been renamed to /usr/share/systemd/user
    upstream, adjust build system accordingly.
  * Remove -s from getty serial console invocation.
  * Add dependency on new util-linux to make sure /sbin/agetty exists
  * Don't mount /var/lock with gid=lock (Debian has no such group).
  * Document problem with ifupdown's /etc/network/run being a normal
    directory.

  [ Michael Biebl ]
  * Revert upstream change which requires libnotify 0.7 (not yet available in
    Debian).
  * Use dh-autoreconf for updating the build system.
  * Revert upstream commit which uses fsck -l (needs a newer version of
    util-linux).
  * Explicitly disable cryptsetup support to not accidentally pick up a
    libcryptsetup dependency in a tainted build environment, as the library
    is currently installed in /usr/lib.
  * Remove autogenerated man pages and vala C sources, so they are rebuilt.
  * Use native systemd mount support:
    - Use MountAuto=yes and SwapAuto=yes (default) in system.conf
    - Mask SysV init mount, check and cleanup scripts.
    - Create an alias (symlink) for checkroot (‚Üí remount-rootfs.service) as
      synchronization point for SysV init scripts.
  * Mask x11-common, rmnologin, hostname, bootmisc and bootlogd.
  * Create an alias for procps (‚Üí systemd-sysctl.service) and
    urandom (‚Üí systemd-random-seed-load.service).
  * Create an alias for module-init-tools (‚Üí systemd-modules-load.service) and
    a symlink from /etc/modules-load.d/modules.conf ‚Üí /etc/modules.
  * Install lsb-base hook which redirects calls to SysV init scripts to
    systemctl: /etc/init.d/<foo> <action> ‚Üí systemctl <action> <foo.service>
  * Install a (auto)mount unit to mount /lib/init/rw early during boot.

 -- Tollef Fog Heen <tfheen@debian.org>  Sat, 20 Nov 2010 09:28:01 +0100

systemd (11-2) UNRELEASED; urgency=low

  * Tighten depends from systemd-* on systemd to ensure they're upgraded
    in lockstep.  Thanks to Michael Biebl for the patch.
  * Add missing #DEBHELPER# token to libpam-systemd
  * Stop messing with runlevel5/multi-user.target symlink, this is handled
    correctly upstream.
  * Stop shipping /cgroup in the package.
  * Remove tmpwatch services, Debian doesn't have or use tmpwatch.
  * Make sure to enable GTK bits.
  * Ship password agent
  * Clean up cgroups properly on upgrades, thanks to Michael Biebl for the
    patch.  Closes: #599577

 -- Tollef Fog Heen <tfheen@debian.org>  Tue, 02 Nov 2010 21:47:10 +0100

systemd (11-1) experimental; urgency=low

  * New upstream version.  Closes: #597284
  * Add pam-auth-update calls to libpam-systemd's postinst and prerm
  * Make systemd-sysv depend on systemd
  * Now mounts the cgroup fs in /sys/fs/cgroup.  Closes: #595966
  * Add libnotify-dev to build-depends (needed for systemadm)

 -- Tollef Fog Heen <tfheen@debian.org>  Thu, 07 Oct 2010 22:01:19 +0200

systemd (8-2) experimental; urgency=low

  * Hardcode udev rules dir in configure call.
  * Remove README.source as it's no longer accurate.

 -- Tollef Fog Heen <tfheen@debian.org>  Mon, 30 Aug 2010 21:10:26 +0200

systemd (8-1) experimental; urgency=low

  * New upstream release
  * Only ship the top /cgroup
  * Pass --with-rootdir= to configure, to make it think / is / rather
    than //
  * Add PAM module package
  * Fix up dependencies in local-fs.target.  Closes: #594420
  * Move systemadm to its own package.  Closes: #588451
  * Update standards-version (no changes needed)
  * Update README.Debian to explain how to use systemd.
  * Add systemd-sysv package that provides /sbin/init and friends.

 -- Tollef Fog Heen <tfheen@debian.org>  Sat, 07 Aug 2010 07:31:38 +0200

systemd (0~git+20100605+dfd8ee-1) experimental; urgency=low

  * Initial release, upload to experimental.  Closes: #580814

 -- Tollef Fog Heen <tfheen@debian.org>  Fri, 30 Apr 2010 21:02:25 +0200
